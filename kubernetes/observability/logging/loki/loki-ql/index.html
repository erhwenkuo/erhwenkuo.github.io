<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=../../../../../assets/favicon.png rel=icon><meta content="mkdocs-1.4.2, mkdocs-material-8.5.7" name=generator><title>Loki 查詢語言 LogQL - Tech Learning</title><link href=../../../../../assets/stylesheets/main.20d9efc8.min.css rel=stylesheet><link href=../../../../../assets/stylesheets/palette.cbb835fc.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../../../../stylesheets/extra.css rel=stylesheet><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gdesc-inner { font-size: 0.75rem; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                </style><script src=../../../../../assets/javascripts/glightbox.min.js></script></head> <body data-md-color-accent=red data-md-color-primary=indigo data-md-color-scheme=default dir=ltr> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#grafana-loki-logql> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label="Tech Learning" class="md-header__button md-logo" data-md-component=logo href=../../../../.. title="Tech Learning"> <svg viewbox="0 0 89 89" xmlns=http://www.w3.org/2000/svg> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z></path> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"></path> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z></path> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"></path> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Tech Learning </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Loki 查詢語言 LogQL </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent=red data-md-color-media data-md-color-primary=indigo data-md-color-scheme=default id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_2 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent=indigo data-md-color-media data-md-color-primary=brown data-md-color-scheme=slate id=__palette_2 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <a aria-label=Share class="md-search__icon md-icon" data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=Share> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg> </a> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav aria-label=Tabs class=md-tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=../../../../..> Home </a> </li> <li class=md-tabs__item> <a href=../../../../../coding/12factors/architecture-12-factor-app/ class=md-tabs__link> Coding </a> </li> <li class=md-tabs__item> <a href=../../../../../mlops/01-getting-started/learning-env/kubeadm/k8s-kubeadm-containerd-gpu/ class=md-tabs__link> MLOps </a> </li> <li class=md-tabs__item> <a href=../../../../01-getting-started/learning-env/k3d/k3s-kubernetes-cluster-setup-with-k3d/ class="md-tabs__link md-tabs__link--active"> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../../../../prometheus/prometheus/overview/ class=md-tabs__link> Prometheus </a> </li> <li class=md-tabs__item> <a href=../../../../../opentelemetry/instrumentation/ class=md-tabs__link> OpenTelemetry </a> </li> <li class=md-tabs__item> <a href=../../../../../grafana/tempo/hotrod/ class=md-tabs__link> Grafana </a> </li> <li class=md-tabs__item> <a href=../../../../../argocd/concepts/what-is-argocd/ class=md-tabs__link> ArgoCD </a> </li> <li class=md-tabs__item> <a href=../../../../../istio/concepts/what-is-istio/ class=md-tabs__link> Istio </a> </li> <li class=md-tabs__item> <a href=../../../../../kubeflow/env/kubeflow-install/ class=md-tabs__link> Kubeflow </a> </li> <li class=md-tabs__item> <a href=../../../../../seldon/ class=md-tabs__link> Seldon </a> </li> <li class=md-tabs__item> <a href=../../../../../vault/docs/auth/overview/ class=md-tabs__link> Vault </a> </li> <li class=md-tabs__item> <a href=../../../../../ansible/vagrant-intro/ class=md-tabs__link> Ansible </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary md-nav--lifted" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="Tech Learning" class="md-nav__button md-logo" data-md-component=logo href=../../../../.. title="Tech Learning"> <svg viewbox="0 0 89 89" xmlns=http://www.w3.org/2000/svg> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z></path> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"></path> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z></path> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"></path> </svg> </a> Tech Learning </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 id=__nav_1 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../..>Home</a> <label for=__nav_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Home class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_2 id=__nav_1_2 type=checkbox> <label class=md-nav__link for=__nav_1_2> Networking Basics <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Networking Basics" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_1_2> <span class="md-nav__icon md-icon"></span> Networking Basics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../networking/cidr/cidr-intro/ class=md-nav__link> 無類別區隔路由 CIDR </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_3 id=__nav_1_3 type=checkbox> <label class=md-nav__link for=__nav_1_3> YAML <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=YAML class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> YAML </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../yaml/yaml-intro/ class=md-nav__link> YAML 入門教程 </a> </li> <li class=md-nav__item> <a href=../../../../../yaml/yaml-tutorial/ class=md-nav__link> Learn YAML </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1_4 id=__nav_1_4 type=checkbox> <label class=md-nav__link for=__nav_1_4> CI/CD <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=CI/CD class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> CI/CD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../cicd/gitops/ class=md-nav__link> GitOps 的概念 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2> Coding <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Coding class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_1 id=__nav_2_1 type=checkbox> <label class=md-nav__link for=__nav_2_1> 12 Factors <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="12 Factors" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> 12 Factors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../coding/12factors/architecture-12-factor-app/ class=md-nav__link> 12 要素應用實戰 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 id=__nav_2_2 type=checkbox> <label class=md-nav__link for=__nav_2_2> Observability <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Observability class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Observability </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2_1 id=__nav_2_2_1 type=checkbox> <label class=md-nav__link for=__nav_2_2_1> 指標 Metrics <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="指標 Metrics" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_2_2_1> <span class="md-nav__icon md-icon"></span> 指標 Metrics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../coding/observability/metrics/metrics-app-integration/ class=md-nav__link> 可觀測性(metrics)實戰 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2_2 id=__nav_2_2_2 type=checkbox> <label class=md-nav__link for=__nav_2_2_2> 日誌 Logs <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="日誌 Logs" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> 日誌 Logs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../coding/observability/logs/structured-logging/ class=md-nav__link> Structured Logging </a> </li> <li class=md-nav__item> <a href=../../../../../coding/observability/logs/logging-app-integration/ class=md-nav__link> 可觀測性(logging)實戰 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 id=__nav_2_3 type=checkbox> <label class=md-nav__link for=__nav_2_3> C# <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=C# class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> C# </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3_1 id=__nav_2_3_1 type=checkbox> <label class=md-nav__link for=__nav_2_3_1> 後端 API <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="後端 API" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_2_3_1> <span class="md-nav__icon md-icon"></span> 後端 API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../coding/dotnet/backend/base/web-api-base/ class=md-nav__link> 使用 NET Core 創建 Web API </a> </li> <li class=md-nav__item> <a href=../../../../../coding/dotnet/backend/metric/web-api-metric/ class=md-nav__link> 儀器化 Net Core 應用程序 </a> </li> <li class=md-nav__item> <a href=../../../../../coding/dotnet/backend/logging/web-api-logging/ class=md-nav__link> 結構化日誌 Net Core 應用程序 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 id=__nav_2_4 type=checkbox> <label class=md-nav__link for=__nav_2_4> Java <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Java class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_1 id=__nav_2_4_1 type=checkbox> <label class=md-nav__link for=__nav_2_4_1> 後端 API <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="後端 API" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_2_4_1> <span class="md-nav__icon md-icon"></span> 後端 API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../coding/java/backend/base/web-api-base/ class=md-nav__link> 使用 Springboot 創建 Web API </a> </li> <li class=md-nav__item> <a href=../../../../../coding/java/backend/metric/web-api-metric/ class=md-nav__link> 儀器化 Springboot 應用程序 </a> </li> <li class=md-nav__item> <a href=../../../../../coding/java/backend/logging/web-api-logging/ class=md-nav__link> 結構化日誌 Sprintboot 應用程序 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 id=__nav_3 type=checkbox> <label class=md-nav__link for=__nav_3> MLOps <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=MLOps class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> MLOps </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_1 id=__nav_3_1 type=checkbox> <label class=md-nav__link for=__nav_3_1> Getting started <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Getting started" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_1_1 id=__nav_3_1_1 type=checkbox> <label class=md-nav__link for=__nav_3_1_1> 學習環境 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=學習環境 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_3_1_1> <span class="md-nav__icon md-icon"></span> 學習環境 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_1_1_1 id=__nav_3_1_1_1 type=checkbox> <label class=md-nav__link for=__nav_3_1_1_1> Kubeadm <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Kubeadm class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_3_1_1_1> <span class="md-nav__icon md-icon"></span> Kubeadm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../mlops/01-getting-started/learning-env/kubeadm/k8s-kubeadm-containerd-gpu/ class=md-nav__link> 支援 Nvidia GPU </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_1_1_2 id=__nav_3_1_1_2 type=checkbox> <label class=md-nav__link for=__nav_3_1_1_2> Rancher RKE2/K3S <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Rancher RKE2/K3S" class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_3_1_1_2> <span class="md-nav__icon md-icon"></span> Rancher RKE2/K3S </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../mlops/01-getting-started/learning-env/rancher/k8s-rke2-containerd-gpu/ class=md-nav__link> 支援 Nvidia GPU </a> </li> <li class=md-nav__item> <a href=../../../../../mlops/01-getting-started/learning-env/rancher/rke2-gpu-manual-install/ class=md-nav__link> 分析 Nvidia GPU Operator </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_1_2 id=__nav_3_1_2 type=checkbox> <label class=md-nav__link for=__nav_3_1_2> GPU 共享 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="GPU 共享" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_3_1_2> <span class="md-nav__icon md-icon"></span> GPU 共享 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../mlops/02-gpu-sharing/nvidia-gpu-sharing-concepts/ class=md-nav__link> Nvidia GPU 共享的機制 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_1_2_2 id=__nav_3_1_2_2 type=checkbox> <label class=md-nav__link for=__nav_3_1_2_2> 提高 GPU 利用率 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="提高 GPU 利用率" class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_3_1_2_2> <span class="md-nav__icon md-icon"></span> 提高 GPU 利用率 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../mlops/02-gpu-sharing/improving-gpu-utilization-in-kubernetes/ class=md-nav__link> Time-slicing </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_1_2_2_2 id=__nav_3_1_2_2_2 type=checkbox> <label class=md-nav__link for=__nav_3_1_2_2_2> MIG <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=MIG class=md-nav data-md-level=5> <label class=md-nav__title for=__nav_3_1_2_2_2> <span class="md-nav__icon md-icon"></span> MIG </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../mlops/02-gpu-sharing/mig/mig_concept/ class=md-nav__link> MIG 概念 </a> </li> <li class=md-nav__item> <a href=../../../../../mlops/02-gpu-sharing/mig/mig-setup/ class=md-nav__link> MIG 切割入門 </a> </li> <li class=md-nav__item> <a href=../../../../../mlops/02-gpu-sharing/mig/mig-k8s/ class=md-nav__link> Kubernetes 對 MIG 支持 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 id=__nav_4 type=checkbox> <label class=md-nav__link for=__nav_4> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Kubernetes class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1 id=__nav_4_1 type=checkbox> <label class=md-nav__link for=__nav_4_1> Getting started <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Getting started" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1_1 id=__nav_4_1_1 type=checkbox> <label class=md-nav__link for=__nav_4_1_1> 學習環境 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=學習環境 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_1_1> <span class="md-nav__icon md-icon"></span> 學習環境 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1_1_1 id=__nav_4_1_1_1 type=checkbox> <label class=md-nav__link for=__nav_4_1_1_1> K3D <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=K3D class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_1_1_1> <span class="md-nav__icon md-icon"></span> K3D </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../01-getting-started/learning-env/k3d/k3s-kubernetes-cluster-setup-with-k3d/ class=md-nav__link> 使用 K3D 設置 Kubernetes 集群 </a> </li> <li class=md-nav__item> <a href=../../../../01-getting-started/learning-env/k3d/k3d-with-nginx-ingresscontroller/ class=md-nav__link> K3D + Nginx Ingress 控制器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1_1_2 id=__nav_4_1_1_2 type=checkbox> <label class=md-nav__link for=__nav_4_1_1_2> Minikube <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Minikube class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_1_1_2> <span class="md-nav__icon md-icon"></span> Minikube </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../01-getting-started/learning-env/minikube/how-to-install-minikube-on-ubuntu/ class=md-nav__link> 如何在 Ubuntu 20.04 上安裝 Minikube </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1_1_3 id=__nav_4_1_1_3 type=checkbox> <label class=md-nav__link for=__nav_4_1_1_3> Nvidia <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Nvidia class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_1_1_3> <span class="md-nav__icon md-icon"></span> Nvidia </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1_1_3_1 id=__nav_4_1_1_3_1 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../01-getting-started/learning-env/nvidia/nvidia-container-toolkit/ >Nvidia Container Toolkit</a> </div> <nav aria-label="Nvidia Container Toolkit" class=md-nav data-md-level=5> <label class=md-nav__title for=__nav_4_1_1_3_1> <span class="md-nav__icon md-icon"></span> Nvidia Container Toolkit </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1_2 id=__nav_4_1_2 type=checkbox> <label class=md-nav__link for=__nav_4_1_2> 最佳實踐 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=最佳實踐 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_1_2> <span class="md-nav__icon md-icon"></span> 最佳實踐 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../01-getting-started/best-practices/certificates/ class=md-nav__link> PKI 證書和要求 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 id=__nav_4_2 type=checkbox> <label class=md-nav__link for=__nav_4_2> Concepts <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Concepts class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_1 id=__nav_4_2_1 type=checkbox> <label class=md-nav__link for=__nav_4_2_1> 概述 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=概述 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_2_1> <span class="md-nav__icon md-icon"></span> 概述 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../02-concepts/01-overview/k8s-intro/ class=md-nav__link> K8S 介詔 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_2 id=__nav_4_2_2 type=checkbox> <label class=md-nav__link for=__nav_4_2_2> Kubernetes 架構 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Kubernetes 架構" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_2_2> <span class="md-nav__icon md-icon"></span> Kubernetes 架構 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../02-concepts/02-cluster-architecture/k8s-architecture/ class=md-nav__link> K8S 架構解析 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_2_2 id=__nav_4_2_2_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../02-concepts/02-cluster-architecture/cri/ >Container Runtime 接口(CRI)</a> <label for=__nav_4_2_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label="Container Runtime 接口(CRI)" class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_2_2_2> <span class="md-nav__icon md-icon"></span> Container Runtime 接口(CRI) </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_2_2_2 id=__nav_4_2_2_2_2 type=checkbox> <label class=md-nav__link for=__nav_4_2_2_2_2> Containerd <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Containerd class=md-nav data-md-level=5> <label class=md-nav__title for=__nav_4_2_2_2_2> <span class="md-nav__icon md-icon"></span> Containerd </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../02-concepts/02-cluster-architecture/cri/containerd/containerd-install/ class=md-nav__link> 如何在 Ubuntu 22.04 上安裝 Containerd </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_3 id=__nav_4_2_3 type=checkbox> <label class=md-nav__link for=__nav_4_2_3> Serivce, 負載均衡與網路 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Serivce, 負載均衡與網路" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_2_3> <span class="md-nav__icon md-icon"></span> Serivce, 負載均衡與網路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../02-concepts/05-svc-lb-network/k8s-network-intro/ class=md-nav__link> K8S 網絡通信介紹 </a> </li> <li class=md-nav__item> <a href=../../../../02-concepts/05-svc-lb-network/app-service-type/ class=md-nav__link> 應用程序向外部公開服務手法 </a> </li> <li class=md-nav__item> <a href=../../../../02-concepts/05-svc-lb-network/k3d-metallb-starter-kit/ class=md-nav__link> 在 K3D 設定 Metallb </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_4 id=__nav_4_2_4 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../02-concepts/06-storage/ >存儲</a> <label for=__nav_4_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=存儲 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_2_4> <span class="md-nav__icon md-icon"></span> 存儲 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../02-concepts/06-storage/kubectl-cp-example/ class=md-nav__link> 在 Pod 和本機進行文件複製 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_5 id=__nav_4_2_5 type=checkbox> <label class=md-nav__link for=__nav_4_2_5> 配置 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=配置 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_2_5> <span class="md-nav__icon md-icon"></span> 配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../02-concepts/07-configuration/overview/ class=md-nav__link> 配置最佳實踐 </a> </li> <li class=md-nav__item> <a href=../../../../02-concepts/07-configuration/configmap/ class=md-nav__link> ConfigMap </a> </li> <li class=md-nav__item> <a href=../../../../02-concepts/07-configuration/secret/ class=md-nav__link> Secret </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_6 id=__nav_4_2_6 type=checkbox> <label class=md-nav__link for=__nav_4_2_6> 集群管理 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=集群管理 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_2_6> <span class="md-nav__icon md-icon"></span> 集群管理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../02-concepts/11-cluster-adm/logging/ class=md-nav__link> 日誌架構 </a> </li> <li class=md-nav__item> <a href=../../../../02-concepts/11-cluster-adm/kubernetes-logging/ class=md-nav__link> 日誌完整指南 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 id=__nav_4_3 type=checkbox> <label class=md-nav__link for=__nav_4_3> Tasks <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Tasks class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Tasks </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_1 id=__nav_4_3_1 type=checkbox> <label class=md-nav__link for=__nav_4_3_1> 管理 Kubernetes 對象 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="管理 Kubernetes 對象" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_3_1> <span class="md-nav__icon md-icon"></span> 管理 Kubernetes 對象 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../03-tasks/manage-kubernetes-objects/kustomization/ class=md-nav__link> 使用 Kustomize 對 Kubernetes 對象進行聲明式管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2 id=__nav_4_3_2 type=checkbox> <label class=md-nav__link for=__nav_4_3_2> 訪問集群中的應用程序 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=訪問集群中的應用程序 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_3_2> <span class="md-nav__icon md-icon"></span> 訪問集群中的應用程序 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../03-tasks/access-application-cluster/web-ui-dashboard/ class=md-nav__link> 部署和訪問 Kubernetes 儀表板 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3 id=__nav_4_3_3 type=checkbox> <label class=md-nav__link for=__nav_4_3_3> 監控、日誌和除錯 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=監控、日誌和除錯 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_3_3> <span class="md-nav__icon md-icon"></span> 監控、日誌和除錯 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_1 id=__nav_4_3_3_1 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../03-tasks/debug/debug-application/ >應用程序故障排查</a> </div> <nav aria-label=應用程序故障排查 class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_1> <span class="md-nav__icon md-icon"></span> 應用程序故障排查 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_2 id=__nav_4_3_3_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../03-tasks/debug/debug-cluster/ >集群故障排查</a> </div> <nav aria-label=集群故障排查 class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_2> <span class="md-nav__icon md-icon"></span> 集群故障排查 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_4 id=__nav_4_3_4 type=checkbox> <label class=md-nav__link for=__nav_4_3_4> TLS <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=TLS class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_3_4> <span class="md-nav__icon md-icon"></span> TLS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../03-tasks/tls/managing-tls-in-a-cluster/ class=md-nav__link> 管理集群中的 TLS 認證 </a> </li> <li class=md-nav__item> <a href=../../../../03-tasks/tls/certificate-rotation/ class=md-nav__link> 手動輪換 CA 證書 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_4_3 id=__nav_4_3_4_3 type=checkbox> <label class=md-nav__link for=__nav_4_3_4_3> 其它參考 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=其它參考 class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_3_4_3> <span class="md-nav__icon md-icon"></span> 其它參考 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../03-tasks/tls/reference/openssl-certificate/ class=md-nav__link> Openssl 證書生成命令大全 </a> </li> <li class=md-nav__item> <a href=../../../../03-tasks/tls/reference/self-signed-cert/ class=md-nav__link> 帶 IP 地址的自簽 SSL/TLS </a> </li> <li class=md-nav__item> <a href=../../../../03-tasks/tls/reference/mkcert-quickstart/ class=md-nav__link> 使用 mkcert 製作本機憑證 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 id=__nav_4_4 type=checkbox> <label class=md-nav__link for=__nav_4_4> Autoscale <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Autoscale class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Autoscale </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../autoscale/kubernetes-autoscaling/ class=md-nav__link> Kubernetes 自動縮放 </a> </li> <li class=md-nav__item> <a href=../../../../autoscale/kubernetes-vpa/ class=md-nav__link> Kubernetes 垂直自動縮放 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 id=__nav_4_5 type=checkbox> <label class=md-nav__link for=__nav_4_5> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Tutorials class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../04-tutorials/hello-k3d/ class=md-nav__link> 你好, K3D </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_2 id=__nav_4_5_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../04-tutorials/kubernetes-basics/ >學習 Kubernetes 基礎知識</a> <label for=__nav_4_5_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label="學習 Kubernetes 基礎知識" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_5_2> <span class="md-nav__icon md-icon"></span> 學習 Kubernetes 基礎知識 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../04-tutorials/kubernetes-basics/create-cluster/ class=md-nav__link> 創建集群 </a> </li> <li class=md-nav__item> <a href=../../../../04-tutorials/kubernetes-basics/deploy-app/ class=md-nav__link> 部署應用 </a> </li> <li class=md-nav__item> <a href=../../../../04-tutorials/kubernetes-basics/explore/ class=md-nav__link> 了解應用 </a> </li> <li class=md-nav__item> <a href=../../../../04-tutorials/kubernetes-basics/expose/ class=md-nav__link> 公開曝露應用 </a> </li> <li class=md-nav__item> <a href=../../../../04-tutorials/kubernetes-basics/scale/ class=md-nav__link> 縮放你的應用 </a> </li> <li class=md-nav__item> <a href=../../../../04-tutorials/kubernetes-basics/update/ class=md-nav__link> 更新你的應用 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_3 id=__nav_4_5_3 type=checkbox> <label class=md-nav__link for=__nav_4_5_3> 配置 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=配置 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_5_3> <span class="md-nav__icon md-icon"></span> 配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../04-tutorials/configuration/configmap-secrets/ class=md-nav__link> ConfigMap 與 Secret </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_4 id=__nav_4_5_4 type=checkbox> <label class=md-nav__link for=__nav_4_5_4> 存儲 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=存儲 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_5_4> <span class="md-nav__icon md-icon"></span> 存儲 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../04-tutorials/volume/volume-pv-pvc/ class=md-nav__link> 存儲管理 volume、PV/PVC </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6 id=__nav_4_6 type=checkbox> <label class=md-nav__link for=__nav_4_6> Reference <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Reference class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1 id=__nav_4_6_1 type=checkbox> <label class=md-nav__link for=__nav_4_6_1> API 概述 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="API 概述" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_6_1> <span class="md-nav__icon md-icon"></span> API 概述 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../05-reference/using-api/working-with-k8s-api/ class=md-nav__link> 使用 K8S API </a> </li> <li class=md-nav__item> <a href=../../../../05-reference/using-api/kubernetes-api-structure-and-terminology/ class=md-nav__link> K8S API 基礎 </a> </li> <li class=md-nav__item> <a href=../../../../05-reference/using-api/kubernetes-api-call-simple-http-client/ class=md-nav__link> 用 HTTP 客戶端調用 K8S API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_2 id=__nav_4_6_2 type=checkbox> <label class=md-nav__link for=__nav_4_6_2> API 存取權限控制 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="API 存取權限控制" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_6_2> <span class="md-nav__icon md-icon"></span> API 存取權限控制 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../05-reference/access-authn-authz/rbac-intro/ class=md-nav__link> Kubernetes RBAC 介詔 </a> </li> <li class=md-nav__item> <a href=../../../../05-reference/access-authn-authz/k8s-authorization-of-sa-with-rbac/ class=md-nav__link> 使用 RBAC 設置服務帳戶權限 </a> </li> <li class=md-nav__item> <a href=../../../../05-reference/access-authn-authz/k8s-sa-jwt-rbac/ class=md-nav__link> ServiceAccounts、JWT-tokens、身份驗證和 RBAC 授權 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7 id=__nav_4_7 type=checkbox> <label class=md-nav__link for=__nav_4_7> Observability <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Observability class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> Observability </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_1 id=__nav_4_7_1 type=checkbox> <label class=md-nav__link for=__nav_4_7_1> Day2 運營 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Day2 運營" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_7_1> <span class="md-nav__icon md-icon"></span> Day2 運營 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../day2-ops/day2-definition/ class=md-nav__link> Day2 的定義 </a> </li> <li class=md-nav__item> <a href=../../../day2-ops/day2-challenges/ class=md-nav__link> Day2 的挑戰 </a> </li> <li class=md-nav__item> <a href=../../../day2-ops/k8s-day2-problem/ class=md-nav__link> Kubernetes Day2 運營 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_2 id=__nav_4_7_2 type=checkbox> <label class=md-nav__link for=__nav_4_7_2> 概念 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=概念 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_7_2> <span class="md-nav__icon md-icon"></span> 概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../concept/fullstack-monitoring/ class=md-nav__link> Kubernetes 可觀察性 </a> </li> <li class=md-nav__item> <a href=../../../concept/kubernetes-observability-for-humans/ class=md-nav__link> 監控 Kubernetes 的挑戰 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_3 id=__nav_4_7_3 type=checkbox> <label class=md-nav__link for=__nav_4_7_3> Observability 學習指南 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Observability 學習指南" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_7_3> <span class="md-nav__icon md-icon"></span> Observability 學習指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../concept/observability-prometheus-guide-part1/ class=md-nav__link> Part 1. 學習指南說明 </a> </li> <li class=md-nav__item> <a href=../../../concept/observability-prometheus-guide-part2/ class=md-nav__link> Part 2. Prometheus, Alertmanager &amp; Grafana 架構介詔 </a> </li> <li class=md-nav__item> <a href=../../../concept/observability-prometheus-guide-part3/ class=md-nav__link> Part 3. Prometheus &amp; Alertmanager 基本概念 </a> </li> <li class=md-nav__item> <a href=../../../concept/observability-prometheus-guide-part4/ class=md-nav__link> Part 4. PromQL 介詔 </a> </li> <li class=md-nav__item> <a href=../../../concept/observability-prometheus-guide-part5/ class=md-nav__link> Part 5. Alerts 最佳實踐 </a> </li> <li class=md-nav__item> <a href=../../../concept/observability-prometheus-guide-part6/ class=md-nav__link> Part 6. Kubernetes 中安裝設定 Prometheus 指南 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_4 id=__nav_4_7_4 type=checkbox> <label class=md-nav__link for=__nav_4_7_4> 日誌 Logging <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="日誌 Logging" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_7_4> <span class="md-nav__icon md-icon"></span> 日誌 Logging </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_4_1 id=__nav_4_7_4_1 type=checkbox> <label class=md-nav__link for=__nav_4_7_4_1> Loki <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Loki class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_7_4_1> <span class="md-nav__icon md-icon"></span> Loki </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../logging-with-loki-and-plg/ class=md-nav__link> 使用 Loki 做為 Kubernetes 的日誌聚合亓件 </a> </li> <li class=md-nav__item> <a href=../loki-nginx/ class=md-nav__link> 使用 Logging Operator 將 Nginx 日誌存儲在 Grafana Loki </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> Loki 查詢語言 LogQL <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Loki 查詢語言 LogQL </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#log-query> Log query </a> <nav aria-label="Log query" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#log-stream-selector> Log Stream Selector </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#log-pipeline> Log Pipeline </a> <nav aria-label="Log Pipeline" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#line-filter-expressions> Line filter expressions </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#label-filter-expressions> Label filter expressions </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#parser-expression> Parser expression </a> <nav aria-label="Parser expression" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#json> json 解析器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#logfmt> logfmt 解析器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#regexp> regexp 解析器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#pattern> pattern 解析器 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#line-format-expression> Line format expression </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#labels-format-expression> Labels format expression </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#log-query_1> Log query 示例 </a> <nav aria-label="Log query 示例" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#multiple-filtering> Multiple filtering </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#multiple-parsers> Multiple parsers </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#formatting> Formatting </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#metric-query> Metric query </a> <nav aria-label="Metric query" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#range-vector-aggregation> Range Vector aggregation </a> <nav aria-label="Range Vector aggregation" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#log-range-aggregations> Log range aggregations </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#unwrapped-range-aggregations> Unwrapped range aggregations </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#built-in-aggregation-operators> Built-in aggregation operators </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#binary-operators> Binary operators </a> <nav aria-label="Binary operators" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#arithmetic-operators> Arithmetic operators </a> <nav aria-label="Arithmetic operators" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#arithmetic> Arithmetic 範例 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#logical-and-set-operators> Logical and set operators </a> <nav aria-label="Logical and set operators" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#binary-operators_1> Binary operators 範例 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#comparison-operators> Comparison operators </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_1> 註釋 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#pipeline> Pipeline 錯誤 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_2> 查詢示例 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_4_2 id=__nav_4_7_4_2 type=checkbox> <label class=md-nav__link for=__nav_4_7_4_2> Logging Operator <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Logging Operator" class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_7_4_2> <span class="md-nav__icon md-icon"></span> Logging Operator </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../operator/logging-operator/ class=md-nav__link> Logging Operator 日誌管理方案 </a> </li> <li class=md-nav__item> <a href=../../operator/logging-operator-extensions/ class=md-nav__link> Logging Operator 的擴展 </a> </li> <li class=md-nav__item> <a href=../../operator/rancher-logging-quickstart-01/ class=md-nav__link> Rancher 2.6 全新 Logging 快速入門 </a> </li> <li class=md-nav__item> <a href=../../operator/rancher-logging-quickstart-02/ class=md-nav__link> Rancher 2.6 全新 Logging 快速入門(2) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_5 id=__nav_4_7_5 type=checkbox> <label class=md-nav__link for=__nav_4_7_5> 指標 Metrics <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="指標 Metrics" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_7_5> <span class="md-nav__icon md-icon"></span> 指標 Metrics </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_5_1 id=__nav_4_7_5_1 type=checkbox> <label class=md-nav__link for=__nav_4_7_5_1> Prometheus Operator <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Prometheus Operator" class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_7_5_1> <span class="md-nav__icon md-icon"></span> Prometheus Operator </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../metrics/kube-prometheus-stack/setup-prometheus-and-grafana-on-kubernetes/ class=md-nav__link> Prometheus-operator 介绍和配置解析 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_6 id=__nav_4_7_6 type=checkbox> <label class=md-nav__link for=__nav_4_7_6> 追踪 Traces <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="追踪 Traces" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_7_6> <span class="md-nav__icon md-icon"></span> 追踪 Traces </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_6_1 id=__nav_4_7_6_1 type=checkbox> <label class=md-nav__link for=__nav_4_7_6_1> 開發語言 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=開發語言 class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_7_6_1> <span class="md-nav__icon md-icon"></span> 開發語言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_6_1_1 id=__nav_4_7_6_1_1 type=checkbox> <label class=md-nav__link for=__nav_4_7_6_1_1> Java <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Java class=md-nav data-md-level=5> <label class=md-nav__title for=__nav_4_7_6_1_1> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tracing/java/spring-boot-opentelemetry/ class=md-nav__link> SpringBoot </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7_6_1_2 id=__nav_4_7_6_1_2 type=checkbox> <label class=md-nav__link for=__nav_4_7_6_1_2> Dotnet <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Dotnet class=md-nav data-md-level=5> <label class=md-nav__title for=__nav_4_7_6_1_2> <span class="md-nav__icon md-icon"></span> Dotnet </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tracing/dotnet/modern-monitoring-using-openTelemetry-with-Observability/ class=md-nav__link> 可觀測性(Observability) </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8 id=__nav_4_8 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../package/ >Tools</a> <label for=__nav_4_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Tools class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8_2 id=__nav_4_8_2 type=checkbox> <label class=md-nav__link for=__nav_4_8_2> Packaging 管理 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Packaging 管理" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_8_2> <span class="md-nav__icon md-icon"></span> Packaging 管理 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8_2_1 id=__nav_4_8_2_1 type=checkbox> <label class=md-nav__link for=__nav_4_8_2_1> Helm <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Helm class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_8_2_1> <span class="md-nav__icon md-icon"></span> Helm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../package/helm-intro/ class=md-nav__link> Helm 入門教學 </a> </li> <li class=md-nav__item> <a href=../../../../package/helm-app-deploy/ class=md-nav__link> K8S 應用部署之 Helm 初探 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8_3 id=__nav_4_8_3 type=checkbox> <label class=md-nav__link for=__nav_4_8_3> Config 管理 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Config 管理" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_8_3> <span class="md-nav__icon md-icon"></span> Config 管理 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8_3_1 id=__nav_4_8_3_1 type=checkbox> <label class=md-nav__link for=__nav_4_8_3_1> Kustomize <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Kustomize class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_8_3_1> <span class="md-nav__icon md-icon"></span> Kustomize </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../package/helm-intro/ class=md-nav__link> Kustomize 入門教學 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 id=__nav_5 type=checkbox> <label class=md-nav__link for=__nav_5> Prometheus <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Prometheus class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Prometheus </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1 id=__nav_5_1 type=checkbox> <label class=md-nav__link for=__nav_5_1> 基礎 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=基礎 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> 基礎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/prometheus/overview/ class=md-nav__link> Prometheus 簡介 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/prometheus/install/ class=md-nav__link> Prometheus 安裝配置 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 id=__nav_5_2 type=checkbox> <label class=md-nav__link for=__nav_5_2> Node Exporter <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Node Exporter" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Node Exporter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/node-exporter/overview/ class=md-nav__link> Exporter 簡介 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/node-exporter/install/ class=md-nav__link> 安裝配置 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/node-exporter/metrics/ class=md-nav__link> 常用監控指標 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3 id=__nav_5_3 type=checkbox> <label class=md-nav__link for=__nav_5_3> PromQL <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=PromQL class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> PromQL </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3_1 id=__nav_5_3_1 type=checkbox> <label class=md-nav__link for=__nav_5_3_1> 基礎 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=基礎 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_3_1> <span class="md-nav__icon md-icon"></span> 基礎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/promql/intro/ class=md-nav__link> PromQL 簡介 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/data-model/ class=md-nav__link> 數據模型 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/metric-type/ class=md-nav__link> 指標類型 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/demo-service/ class=md-nav__link> 演示服務 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3_2 id=__nav_5_3_2 type=checkbox> <label class=md-nav__link for=__nav_5_3_2> 查詢 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=查詢 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_3_2> <span class="md-nav__icon md-icon"></span> 查詢 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/promql/theory/ class=md-nav__link> 查詢基礎 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/select-series/ class=md-nav__link> 選擇時間序列 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/rates/ class=md-nav__link> 變化率 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/aggregate/ class=md-nav__link> 聚合 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/operate/ class=md-nav__link> 運算 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/threshold/ class=md-nav__link> 閾值 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/set/ class=md-nav__link> 集合操作 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/sort/ class=md-nav__link> 排序 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/histograms/ class=md-nav__link> 直方圖 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/compare/ class=md-nav__link> 數據對比 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/check/ class=md-nav__link> 檢測 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3_3 id=__nav_5_3_3 type=checkbox> <label class=md-nav__link for=__nav_5_3_3> 補充 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=補充 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_3_3> <span class="md-nav__icon md-icon"></span> 補充 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/promql/range-query-step/ class=md-nav__link> Range query 的 step 參數說明 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/metric-histogram/ class=md-nav__link> 搞懂 Prometheus 的直方圖 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/promql/metric-histogram-summary/ class=md-nav__link> 簡單理解 Summary 和 Histogram 指標 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4 id=__nav_5_4 type=checkbox> <label class=md-nav__link for=__nav_5_4> Alertmanager <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Alertmanager class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Alertmanager </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/alertmanager/deploy/ class=md-nav__link> Alertmanager 安裝 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/alertmanager/rules/ class=md-nav__link> 報警規則 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/alertmanager/receiver/ class=md-nav__link> 報警接收器 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/alertmanager/filter/ class=md-nav__link> 報警過濾 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4_5 id=__nav_5_4_5 type=checkbox> <label class=md-nav__link for=__nav_5_4_5> 補充 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=補充 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_4_5> <span class="md-nav__icon md-icon"></span> 補充 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/alertmanager/prometheus-alert-why/ class=md-nav__link> Promtheus 到底啥時候報警? </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5 id=__nav_5_5 type=checkbox> <label class=md-nav__link for=__nav_5_5> Grafana <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Grafana class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Grafana </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/grafana/overview/ class=md-nav__link> Grafana 簡介 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_2 id=__nav_5_5_2 type=checkbox> <label class=md-nav__link for=__nav_5_5_2> 視覺化面板 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=視覺化面板 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_5_2> <span class="md-nav__icon md-icon"></span> 視覺化面板 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/grafana/panel/ class=md-nav__link> 面板介詔 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/grafana/graph/ class=md-nav__link> 圖形面板 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/grafana/graph-custom/ class=md-nav__link> 圖形定制 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/grafana/table/ class=md-nav__link> 表格面板 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/grafana/gauge/ class=md-nav__link> 儀錶盤面板 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/grafana/stat/ class=md-nav__link> 統計面板 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/grafana/text/ class=md-nav__link> 文本面板 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6 id=__nav_5_6 type=checkbox> <label class=md-nav__link for=__nav_5_6> Prometheus Operator <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Prometheus Operator" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Prometheus Operator </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/operator/install/ class=md-nav__link> Prometheus Operator 簡介 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/operator/custom/ class=md-nav__link> 自定義監控報警 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/operator/consistent-dashboard-gitops-way/ class=md-nav__link> Dashboard 的 GitOps 方式 </a> </li> <li class=md-nav__item> <a href=../../../../../prometheus/operator/dashboard-using-configmap/ class=md-nav__link> 使用 ConfigMap 管理 Grafana 儀表板 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_7 id=__nav_5_7 type=checkbox> <label class=md-nav__link for=__nav_5_7> Operation Runbook <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Operation Runbook" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> Operation Runbook </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/runbook/operations-runbook/ class=md-nav__link> Operation Runbook 簡介 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_8 id=__nav_5_8 type=checkbox> <label class=md-nav__link for=__nav_5_8> PostgresExporter <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=PostgresExporter class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> PostgresExporter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../prometheus/postgres-exporter/postgres-exporter-integration/ class=md-nav__link> 使用 Prometheus 監控 PostgreSQL </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 id=__nav_6 type=checkbox> <label class=md-nav__link for=__nav_6> OpenTelemetry <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=OpenTelemetry class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> OpenTelemetry </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1 id=__nav_6_1 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../opentelemetry/instrumentation/ >Instrumentation</a> <label for=__nav_6_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Instrumentation class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Instrumentation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1_2 id=__nav_6_1_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../opentelemetry/instrumentation/java/ >Java</a> <label for=__nav_6_1_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Java class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_6_1_2> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1_2_2 id=__nav_6_1_2_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../opentelemetry/instrumentation/java/automatic/ >Automatic</a> </div> <nav aria-label=Automatic class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_6_1_2_2> <span class="md-nav__icon md-icon"></span> Automatic </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 id=__nav_6_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../opentelemetry/collector/ >Collector</a> </div> <nav aria-label=Collector class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Collector </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_3 id=__nav_6_3 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../opentelemetry/k8s-operator/ >K8s Operator</a> </div> <nav aria-label="K8s Operator" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> K8s Operator </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_4 id=__nav_6_4 type=checkbox> <label class=md-nav__link for=__nav_6_4> 範例 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=範例 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> 範例 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../opentelemetry/sample/java/springboot-otel-agent/ class=md-nav__link> 如何使用 OTEL agent 捕獲 Spring Boot 指標 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 id=__nav_7 type=checkbox> <label class=md-nav__link for=__nav_7> Grafana <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Grafana class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Grafana </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_1 id=__nav_7_1 type=checkbox> <label class=md-nav__link for=__nav_7_1> Tempo <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Tempo class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> Tempo </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_1_1 id=__nav_7_1_1 type=checkbox> <label class=md-nav__link for=__nav_7_1_1> 示例 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=示例 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_7_1_1> <span class="md-nav__icon md-icon"></span> 示例 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../grafana/tempo/hotrod/ class=md-nav__link> Hot ROD 應用 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 id=__nav_8 type=checkbox> <label class=md-nav__link for=__nav_8> ArgoCD <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=ArgoCD class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> ArgoCD </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_1 id=__nav_8_1 type=checkbox> <label class=md-nav__link for=__nav_8_1> 概念 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=概念 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_8_1> <span class="md-nav__icon md-icon"></span> 概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../argocd/concepts/what-is-argocd/ class=md-nav__link> Argo CD 是什麼？ </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_2 id=__nav_8_2 type=checkbox> <label class=md-nav__link for=__nav_8_2> 入門 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=入門 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> 入門 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../argocd/setup/getting_started/ class=md-nav__link> Getting Started </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_2_2 id=__nav_8_2_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../argocd/tutorial/ >手把手教程</a> <label for=__nav_8_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=手把手教程 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_8_2_2> <span class="md-nav__icon md-icon"></span> 手把手教程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../argocd/tutorial/01-setup/ class=md-nav__link> ArgoCD 安裝設定 </a> </li> <li class=md-nav__item> <a href=../../../../../argocd/tutorial/02-getting_started/ class=md-nav__link> ArgoCD 入門 </a> </li> <li class=md-nav__item> <a href=../../../../../argocd/tutorial/03-kustomize/ class=md-nav__link> Kustomize </a> </li> <li class=md-nav__item> <a href=../../../../../argocd/tutorial/04-syncwaves-hooks/ class=md-nav__link> SyncWaves 與 Hooks </a> </li> <li class=md-nav__item> <a href=../../../../../argocd/tutorial/argo-cd-applicationset-controller/ class=md-nav__link> ApplicationSet 控制器 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_3 id=__nav_8_3 type=checkbox> <label class=md-nav__link for=__nav_8_3> 同步選項 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=同步選項 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_8_3> <span class="md-nav__icon md-icon"></span> 同步選項 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../../../../../argocd> 簡介 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_4 id=__nav_8_4 type=checkbox> <label class=md-nav__link for=__nav_8_4> 維運 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=維運 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_8_4> <span class="md-nav__icon md-icon"></span> 維運 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_4_1 id=__nav_8_4_1 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../argocd/operation-manual/metrics/ >指標 Metrics</a> <label for=__nav_8_4_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label="指標 Metrics" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_8_4_1> <span class="md-nav__icon md-icon"></span> 指標 Metrics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../argocd/operation-manual/metrics/metrics-argocd-integration/ class=md-nav__link> 可觀測性(metrics)實戰 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_5 id=__nav_8_5 type=checkbox> <label class=md-nav__link for=__nav_8_5> ArgoCD 插件 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="ArgoCD 插件" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_8_5> <span class="md-nav__icon md-icon"></span> ArgoCD 插件 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../argocd/argocd-vault-plugin/secret-management-argocd-vault/ class=md-nav__link> 使用 Argo CD Vault 插件進行 Secret 管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_6 id=__nav_8_6 type=checkbox> <label class=md-nav__link for=__nav_8_6> ApplicationSet Controller <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="ApplicationSet Controller" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_8_6> <span class="md-nav__icon md-icon"></span> ApplicationSet Controller </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../argocd/applicationset/intro/ class=md-nav__link> 簡介 </a> </li> <li class=md-nav__item> <a href=../../../../../argocd/applicationset/use-cases/ class=md-nav__link> 用例 </a> </li> <li class=md-nav__item> <a href=../../../../../argocd/applicationset/argo-cd-integration/ class=md-nav__link> ApplicationSet 控制器與 Argo CD 整合 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_6_4 id=__nav_8_6_4 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../argocd/applicationset/generators/ >Generator 生成器</a> <label for=__nav_8_6_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label="Generator 生成器" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_8_6_4> <span class="md-nav__icon md-icon"></span> Generator 生成器 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../argocd/applicationset/generators/generators-list/ class=md-nav__link> List Generator </a> </li> <li class=md-nav__item> <a href=../../../../../argocd/applicationset/generators/generators-cluster/ class=md-nav__link> Cluster Generator </a> </li> <li class=md-nav__item> <a href=../../../../../argocd/applicationset/generators/generators-git/ class=md-nav__link> Git Generator </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../argocd/applicationset/template/ class=md-nav__link> 範本 fields </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 id=__nav_9 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../istio/ >Istio</a> <label for=__nav_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Istio class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Istio </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_1 id=__nav_9_1 type=checkbox> <label class=md-nav__link for=__nav_9_1> 概念 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=概念 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_9_1> <span class="md-nav__icon md-icon"></span> 概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../istio/concepts/what-is-istio/ class=md-nav__link> Istio 是什麼？ </a> </li> <li class=md-nav__item> <a href=../../../../../istio/concepts/traffic-management/ class=md-nav__link> 流量管理 </a> </li> <li class=md-nav__item> <a href=../../../../../istio/concepts/observability/ class=md-nav__link> 可觀測性 </a> </li> <li class=md-nav__item> <a href=../../../../../istio/concepts/security/ class=md-nav__link> 安全 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_3 id=__nav_9_3 type=checkbox> <label class=md-nav__link for=__nav_9_3> 安裝 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=安裝 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_9_3> <span class="md-nav__icon md-icon"></span> 安裝 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../istio/setup/install/helm/helm-install/ class=md-nav__link> 使用 Helm 安裝 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_3_2 id=__nav_9_3_2 type=checkbox> <label class=md-nav__link for=__nav_9_3_2> 更多指南 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=更多指南 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_9_3_2> <span class="md-nav__icon md-icon"></span> 更多指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../istio/setup/additional-setup/config-profiles/ class=md-nav__link> 安裝配置文件 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_4 id=__nav_9_4 type=checkbox> <label class=md-nav__link for=__nav_9_4> 示例 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=示例 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_9_4> <span class="md-nav__icon md-icon"></span> 示例 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../istio/examples/bookinfo/ class=md-nav__link> Bookinfo 應用 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_5 id=__nav_9_5 type=checkbox> <label class=md-nav__link for=__nav_9_5> 參考 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=參考 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_9_5> <span class="md-nav__icon md-icon"></span> 參考 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../istio/reference/deployment-strategies/ class=md-nav__link> 應用程序部署策略 </a> </li> <li class=md-nav__item> <a href=../../../../../istio/reference/istio-ingress-vs-k8s-ingress/ class=md-nav__link> Istio Ingress 與 K8S Ingress </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10 id=__nav_10 type=checkbox> <label class=md-nav__link for=__nav_10> Kubeflow <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Kubeflow class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Kubeflow </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10_1 id=__nav_10_1 type=checkbox> <label class=md-nav__link for=__nav_10_1> 環境 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=環境 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_10_1> <span class="md-nav__icon md-icon"></span> 環境 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../kubeflow/env/kubeflow-install/ class=md-nav__link> 手動安裝 Kubeflow </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10_1_2 id=__nav_10_1_2 type=checkbox> <label class=md-nav__link for=__nav_10_1_2> RKE2 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=RKE2 class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_10_1_2> <span class="md-nav__icon md-icon"></span> RKE2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../kubeflow/env/rke2/rke2-nvidia-gpu-operator/ class=md-nav__link> 在 RKE2 Kubernetes 集群上安裝 Nvidia GPU Operator </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10_2 id=__nav_10_2 type=checkbox> <label class=md-nav__link for=__nav_10_2> 組件 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=組件 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_10_2> <span class="md-nav__icon md-icon"></span> 組件 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10_2_1 id=__nav_10_2_1 type=checkbox> <label class=md-nav__link for=__nav_10_2_1> Multi-Tenancy <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Multi-Tenancy class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_10_2_1> <span class="md-nav__icon md-icon"></span> Multi-Tenancy </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../kubeflow/components/multi-tenancy/overview/ class=md-nav__link> 多用戶隔離介詔 </a> </li> <li class=md-nav__item> <a href=../../../../../kubeflow/components/multi-tenancy/getting-started/ class=md-nav__link> 多用戶隔離入門 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_11 id=__nav_11 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../seldon/ >Seldon</a> <label for=__nav_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Seldon class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Seldon </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_11_2 id=__nav_11_2 type=checkbox> <label class=md-nav__link for=__nav_11_2> 概念 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=概念 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_11_2> <span class="md-nav__icon md-icon"></span> 概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../seldon/concepts/overview/ class=md-nav__link> Seldon 核心組件概述 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_11_3 id=__nav_11_3 type=checkbox> <label class=md-nav__link for=__nav_11_3> 示例 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=示例 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_11_3> <span class="md-nav__icon md-icon"></span> 示例 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../seldon/env/jupyter-hub/ class=md-nav__link> 學習環境 </a> </li> <li class=md-nav__item> <a href=../../../../../seldon/examples/quickstart/ class=md-nav__link> 快速入門指南 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12 id=__nav_12 type=checkbox> <label class=md-nav__link for=__nav_12> Vault <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Vault class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Vault </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12_1 id=__nav_12_1 type=checkbox> <label class=md-nav__link for=__nav_12_1> Docs <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Docs class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_12_1> <span class="md-nav__icon md-icon"></span> Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12_1_1 id=__nav_12_1_1 type=checkbox> <label class=md-nav__link for=__nav_12_1_1> Auth Methods <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Auth Methods" class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_12_1_1> <span class="md-nav__icon md-icon"></span> Auth Methods </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../vault/docs/auth/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../../vault/docs/auth/kubernetes/ class=md-nav__link> Kubernetes </a> </li> <li class=md-nav__item> <a href=../../../../../vault/docs/auth/userpass/ class=md-nav__link> Username &amp; Password </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12_1_2 id=__nav_12_1_2 type=checkbox> <label class=md-nav__link for=__nav_12_1_2> Platform <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Platform class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_12_1_2> <span class="md-nav__icon md-icon"></span> Platform </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12_1_2_1 id=__nav_12_1_2_1 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../vault/docs/platform/ >Kubernetes</a> <label for=__nav_12_1_2_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Kubernetes class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_12_1_2_1> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12_1_2_1_2 id=__nav_12_1_2_1_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../../../vault/docs/platform/helm/ >Helm</a> </div> <nav aria-label=Helm class=md-nav data-md-level=5> <label class=md-nav__title for=__nav_12_1_2_1_2> <span class="md-nav__icon md-icon"></span> Helm </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12_2 id=__nav_12_2 type=checkbox> <label class=md-nav__link for=__nav_12_2> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Tutorials class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_12_2> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12_2_1 id=__nav_12_2_1 type=checkbox> <label class=md-nav__link for=__nav_12_2_1> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Kubernetes class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_12_2_1> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../vault/kubernetes/kubernetes-sidecar/ class=md-nav__link> 通過 Vault Agent 容器將 Secret 注入 Kubernetes Pod </a> </li> <li class=md-nav__item> <a href=../../../../../vault/kubernetes/kubernetes-secret-store-driver/ class=md-nav__link> 通過容器存儲接口 (CSI) 掛載 Vault Secret </a> </li> <li class=md-nav__item> <a href=../../../../../vault/kubernetes/agent-kubernetes/ class=md-nav__link> Vault Agent 與 Kubernetes </a> </li> <li class=md-nav__item> <a href=../../../../../vault/kubernetes/kubernetes-external-vault/ class=md-nav__link> Kubernetes 與外部 Vault 整合 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_13 id=__nav_13 type=checkbox> <label class=md-nav__link for=__nav_13> Ansible <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Ansible class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> Ansible </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_13_1 id=__nav_13_1 type=checkbox> <label class=md-nav__link for=__nav_13_1> 快速入門 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=快速入門 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_13_1> <span class="md-nav__icon md-icon"></span> 快速入門 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ansible/vagrant-intro/ class=md-nav__link> Vagrant 快速入門 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/ansible-intro/ class=md-nav__link> Ansible 快速入門 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/use_sshpass_to_login_for_ansible/ class=md-nav__link> Ansible 使用基於 SSH 密碼登入 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/ansible-cheatsheet/ class=md-nav__link> Ansible 使用指南 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_13_2 id=__nav_13_2 type=checkbox> <label class=md-nav__link for=__nav_13_2> Ansible Playbook 撰寫 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Ansible Playbook 撰寫" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_13_2> <span class="md-nav__icon md-icon"></span> Ansible Playbook 撰寫 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/creating-and-running-your-first-ansible-playbook/ class=md-nav__link> 如何創建與運行 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-define-tasks-in-ansible-playbooks/ class=md-nav__link> 如何定義任務 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-use-variables-in-ansible-playbooks/ class=md-nav__link> 如何使用變量 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-access-system-information-facts-in-ansible-playbooks/ class=md-nav__link> 如何訪問系統信息 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-use-conditionals-in-ansible-playbooks/ class=md-nav__link> 如何使用條件 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-use-loops-in-ansible-playbooks/ class=md-nav__link> 如何使用循環 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/understanding-privilege-escalation-in-ansible-playbooks/ class=md-nav__link> 了解權限提升 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-install-and-manage-system-packages-in-ansible-playbooks/ class=md-nav__link> 如何安裝和管理系統包 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-create-and-use-templates-in-ansible-playbooks/ class=md-nav__link> 如何創建和使用模板 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-define-and-use-handlers-in-ansible-playbooks/ class=md-nav__link> 如何定義和使用處理程序 </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_playbook/how-to-deploy-a-static-html-website-with-ansible-on-ubuntu-20-04-nginx/ class=md-nav__link> 如何使用Nginx部署靜態HTML網站 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_13_3 id=__nav_13_3 type=checkbox> <label class=md-nav__link for=__nav_13_3> Ansible AWX 教學 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Ansible AWX 教學" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_13_3> <span class="md-nav__icon md-icon"></span> Ansible AWX 教學 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_awx/how-to-install-ansible-awx/ class=md-nav__link> 如何在 Ubuntu 20.04 上安裝 Ansible AWX </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial_awx/ansible-awx-guide-basic-usage-and-configuration/ class=md-nav__link> Ansible AWX 基本使用和配置 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_13_4 id=__nav_13_4 type=checkbox> <label class=md-nav__link for=__nav_13_4> 教學 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=教學 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_13_4> <span class="md-nav__icon md-icon"></span> 教學 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ansible/tutorial/ubuntu-insall-docker/ class=md-nav__link> 如何在 Ubuntu 20.04 上安裝 Docker </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial/ansible-install-docker/ class=md-nav__link> 如何使用 Ansible 在 Ubuntu 20.04 上安裝和設置 Docker </a> </li> <li class=md-nav__item> <a href=../../../../../ansible/tutorial/how-to-install-and-configure-ansible-on-ubuntu-22-04/ class=md-nav__link> 如何在 Ubuntu 22.04 上安裝和配置 Ansible </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#log-query> Log query </a> <nav aria-label="Log query" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#log-stream-selector> Log Stream Selector </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#log-pipeline> Log Pipeline </a> <nav aria-label="Log Pipeline" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#line-filter-expressions> Line filter expressions </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#label-filter-expressions> Label filter expressions </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#parser-expression> Parser expression </a> <nav aria-label="Parser expression" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#json> json 解析器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#logfmt> logfmt 解析器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#regexp> regexp 解析器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#pattern> pattern 解析器 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#line-format-expression> Line format expression </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#labels-format-expression> Labels format expression </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#log-query_1> Log query 示例 </a> <nav aria-label="Log query 示例" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#multiple-filtering> Multiple filtering </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#multiple-parsers> Multiple parsers </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#formatting> Formatting </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#metric-query> Metric query </a> <nav aria-label="Metric query" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#range-vector-aggregation> Range Vector aggregation </a> <nav aria-label="Range Vector aggregation" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#log-range-aggregations> Log range aggregations </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#unwrapped-range-aggregations> Unwrapped range aggregations </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#built-in-aggregation-operators> Built-in aggregation operators </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#binary-operators> Binary operators </a> <nav aria-label="Binary operators" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#arithmetic-operators> Arithmetic operators </a> <nav aria-label="Arithmetic operators" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#arithmetic> Arithmetic 範例 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#logical-and-set-operators> Logical and set operators </a> <nav aria-label="Logical and set operators" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#binary-operators_1> Binary operators 範例 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#comparison-operators> Comparison operators </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_1> 註釋 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#pipeline> Pipeline 錯誤 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_2> 查詢示例 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=grafana-loki-logql>Grafana Loki 查詢語言 LogQL 使用<a class=headerlink href=#grafana-loki-logql title="Permanent link">¶</a></h1> <p>原文: <a href=https://grafana.com/docs/loki/latest/logql/log_queries/ >https://grafana.com/docs/loki/latest/logql/log_queries/</a></p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/logging-operator-loki-grafana.resized.png><img alt src=../assets/logging-operator-loki-grafana.resized.png></a></p> <p>受 PromQL 的啓發，Loki 也有自己的查詢語言，稱爲 LogQL，它就像一個分佈式的 grep，可以聚合查看日誌。和 PromQL 一樣，LogQL 也是使用標籤和運算符進行過濾的，主要有兩種類型的查詢功能：</p> <ul> <li><strong>Log query</strong> 查詢返回日誌行內容</li> <li><strong>Metrics query</strong> 通過過濾規則在日誌流中計算相關的度量指標</li> </ul> <h2 id=log-query>Log query<a class=headerlink href=#log-query title="Permanent link">¶</a></h2> <p>一個基本的日誌查詢由兩部分組成。</p> <ul> <li>log stream selector（日誌流選擇器）</li> <li>log pipeline（日誌管道）</li> </ul> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/query_components.png><img alt src=../assets/query_components.png></a></p> <p>由於 Loki 的設計，所有 LogQL 查詢必須包含一個日誌流選擇器 (log stream selector)。一個 Log Stream 代表了具有相同元數據 (Label 集) 的日誌條目。</p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/loki-ql-01.png><img alt src=../assets/loki-ql-01.png></a></p> <p><strong>日誌流選擇器 (log stream selector)</strong> 決定了有多少日誌將被搜索到，一個更細粒度的日誌流選擇器將搜索到流的數量減少到一個可管理的數量，通過精細的匹配日誌流，可以大幅減少查詢期間帶來資源消耗。</p> <p>而日誌流選擇器後面的 <strong>日誌管道 (log pipeline)</strong> 是可選的，用於進一步處理和過濾日誌流信息，它由一組表達式組成，每個表達式都以從左到右的順序爲每個日誌行執行相關過濾，每個表達式都可以過濾、解析和改變日誌行內容以及各自的標籤。</p> <p>下面的例子顯示了一個完整的日誌查詢的操作：</p> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=o>{</span><span class=nv>container</span><span class=o>=</span><span class=s2>"query-frontend"</span>,namespace<span class=o>=</span><span class=s2>"loki-dev"</span><span class=o>}</span> <span class=p>|</span><span class=o>=</span> <span class=s2>"metrics.go"</span> <span class=p>|</span> logfmt <span class=p>|</span> duration &gt; 10s and throughput_mb &lt; <span class=m>500</span>
</code></pre></div> <p>該查詢語句由以下幾個部分組成：</p> <ul> <li> <p>一個日誌流選擇器 <code>{container="query-frontend",namespace="loki-dev"}</code>，用於過濾 loki-dev 命名空間下面的 query-frontend 容器的日誌</p> </li> <li> <p>然後後面跟着一個日誌管道 <code>|= "metrics.go" | logfmt | duration &gt; 10s and throughput_mb &lt; 500</code>，該管道表示將篩選出包含 metrics.go 這個詞的日誌，然後解析每一行日誌提取更多的表達式並進行過濾</p> </li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>為避免 escape 特殊字符，您可以在引用字符串時使用 \' (backtick) 而不是 "。例如，`\w+` 與 "\w+" 相同。這在編寫包含多個反斜杠的正則表達式時特別有用需要 escape。</p> </div> <h3 id=log-stream-selector>Log Stream Selector<a class=headerlink href=#log-stream-selector title="Permanent link">¶</a></h3> <p>日誌流選擇器 (Log Stream Selector) 決定了哪些日誌流應該被包含在你的查詢結果中，選擇器由一個或多個鍵值對組成，其中每個鍵是一個日誌標籤，每個值是該標籤的值。</p> <p>日誌流選擇器是通過將鍵值對包裹在一對 <strong>大括號</strong> 中編寫的，比如：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=o>{</span><span class=nv>app</span><span class=o>=</span><span class=s2>"mysql"</span>, <span class=o>}</span>
</code></pre></div> <p>上面這個示例表示，所有標籤爲 app 且其值爲 mysql 和標籤爲 name 且其值爲 mysql-backup 的日誌流將被包括在查詢結果中。</p> <p>其中標籤名後面的 = 運算符是一個標籤匹配運算符，LogQL 中一共支持以下幾種標籤匹配運算符：</p> <ul> <li><code>=</code> 完全匹配</li> <li><code>!=</code> 不相等</li> <li><code>=~</code> 正則表達式匹配</li> <li><code>!~</code> 正則表達式不匹配</li> </ul> <p>例如：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=o>{</span><span class=nv>name</span><span class=o>=</span>~<span class=s2>"mysql.+"</span><span class=o>}</span>
<a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>
<a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=o>{</span>name!~<span class=s2>"mysql.+"</span><span class=o>}</span>
<a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>
<a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a><span class=o>{</span>name!~<span class=s2>"mysql-\\d+"</span><span class=o>}</span>
</code></pre></div> <p>適用於 Prometheus 標籤選擇器的規則同樣適用於 Loki 日誌流選擇器。</p> <h3 id=log-pipeline>Log Pipeline<a class=headerlink href=#log-pipeline title="Permanent link">¶</a></h3> <p>日誌管道可以附加到日誌流選擇器上，以進一步處理和過濾日誌流。它通常由一個或多個 <strong>表達式</strong> 組成，每個表達式針對每個日誌行依次執行。如果一個表達式過濾掉了日誌行，則管道將在此處停止並開始處理下一行。一些表達式可以改變日誌內容和各自的標籤，然後可用於進一步過濾和處理後續表達式或指標查詢。</p> <p>一個日誌管道可以由以下部分組成。</p> <ul> <li>過濾表達式 (Filtering expressions)<ul> <li>日誌行過濾表達式 (Line filter expressions)</li> <li>標籤過濾表達式 (Label filter expressions)</li> </ul> </li> <li>解析器表達式 (Parsing expressions)</li> <li>格式化表達式 (Formatting expressions)<ul> <li>日誌行格式化表達式 (Line format expression)</li> <li>標籤格式化表達式 (Labels format expression)</li> </ul> </li> </ul> <h4 id=line-filter-expressions>Line filter expressions<a class=headerlink href=#line-filter-expressions title="Permanent link">¶</a></h4> <p>日誌行過濾表達式用於對匹配日誌流中的聚合日誌進行分佈式 grep。</p> <p>編寫入日誌流選擇器後，可以使用一個 <strong>搜索表達式</strong> 進一步過濾得到的日誌數據集，搜索表達式可以是文本或正則表達式，比如：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=o>{</span><span class=nv>job</span><span class=o>=</span><span class=s2>"mysql"</span><span class=o>}</span> <span class=p>|</span><span class=o>=</span> <span class=s2>"error"</span>
<a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>
<a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=o>{</span><span class=nv>instance</span><span class=o>=</span>~<span class=s2>"kafka-[23]"</span>,name<span class=o>=</span><span class=s2>"kafka"</span><span class=o>}</span> !<span class=o>=</span> <span class=s2>"kafka.server:type=ReplicaManager"</span>
<a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a>
<a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a><span class=o>{</span><span class=nv>name</span><span class=o>=</span><span class=s2>"kafka"</span><span class=o>}</span> <span class=p>|</span>~ <span class=s2>"tsdb-ops.*io:2003"</span>
<a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a>
<a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a><span class=o>{</span><span class=nv>name</span><span class=o>=</span><span class=s2>"cassandra"</span><span class=o>}</span> <span class=p>|</span>~  <span class=sb>`</span><span class=nv>error</span><span class=o>=</span><span class=se>\w</span>+<span class=sb>`</span>
</code></pre></div> <p>上面示例中的 <code>|=</code>、<code>|~</code> 和 <code>!=</code> 是過濾運算符，支持下面幾種類型：</p> <ul> <li> <p><code>|=</code> 日誌行包含的字符串</p> </li> <li> <p><code>!=</code> 日誌行不包含的字符串</p> </li> <li> <p><code>|~</code> 日誌行匹配正則表達式</p> </li> <li> <p><code>!~</code> 日誌行與正則表達式不匹配</p> </li> </ul> <p>過濾運算符可以是串連在一起使用的，並將按順序執行過濾表達式，產生的日誌行必須滿足每個過濾器。當使用 <code>|~</code> 和 <code>!~</code> 時，可以使用 Golang 的 <a href=https://github.com/google/re2/wiki/Syntax>RE2 語法</a>的正則表達式，默認情況下，匹配是區分大小寫的，可以用 <code>(?i)</code> 作爲正則表達式的前綴，切換爲不區分大小寫。</p> <p>雖然日誌行過濾表達式可以放在管道的任何地方，但最好把它們放在開頭，這樣可以提高查詢的性能，當某一行匹配時才做進一步的後續處理。例如，雖然結果是一樣的，但下面的查詢 <code>{job="mysql"} |= "error" |json | line_format "{{.err}}"</code> 會比 <code>{job="mysql"} | json | line_format "{{.message}}" |= "error"</code> 更快，<strong>日誌行過濾表達式是繼日誌流選擇器之後過濾日誌的最快方式</strong>。</p> <h4 id=label-filter-expressions>Label filter expressions<a class=headerlink href=#label-filter-expressions title="Permanent link">¶</a></h4> <p><strong>標籤過濾表達式</strong> 允許使用其原始和提取的標籤來過濾日誌行，它可以包含多個 <strong>謂詞</strong>。</p> <p>一個謂詞包含一個標籤標識符、操作符和用於比較標籤的值。</p> <p>例如 <code>cluster="namespace"</code> 其中的 <code>cluster</code> 是標籤標識符，操作符是 <code>=</code>，值是<code>"namespace"</code>。</p> <p>LogQL 支持從查詢輸入中自動推斷出的多種值類型：</p> <ul> <li><strong>String</strong>（字符串）用雙引號或反引號引起來，例如"200"或 us-central1。</li> <li><strong>Duration</strong>（時間）是一串十進制數字，每個數字都有可選的數和單位後綴，如 "300ms"、"1.5h" 或 "2h45m"，有效的時間單位是 "ns"、"us"（或 "µs"）、"ms"、"s"、"m"、"h"。</li> <li><strong>Number</strong>（數字）是浮點數（64 位），如 250、89.923。</li> <li><strong>Bytes</strong>（字節）是一串十進制數字，每個數字都有可選的數和單位後綴，如 "42MB"、"1.5Kib" 或 "20b"，有效的字節單位是 "b"、"kib"、"kb"、"mib"、"mb"、"gib"、"gb"、"tib"、"tb"、"pib"、"bb"、"eb"。</li> </ul> <p>字符串類型的工作方式與 Prometheus 標籤匹配器在日誌流選擇器中使用的方式完全一樣，這意味着你可以使用同樣的操作符（<code>=</code>、<code>!=</code>、<code>=~</code>、<code>!~</code>u）。</p> <p>使用 Duration、Number 和 Bytes 將在比較前轉換標籤值，並支持以下比較器。</p> <ul> <li> <p><code>==</code> 或 <code>=</code> 相等比較</p> </li> <li> <p><code>!=</code> 不等於比較</p> </li> <li> <p><code>&gt;</code> 和 <code>&gt;=</code> 用於大於或大於等於比較</p> </li> <li> <p><code>&lt;</code> 和 <code>&lt;=</code> 用於小於或小於等於比較</p> </li> </ul> <p>例如 <code>logfmt | duration &gt; 1m and bytes_consumed &gt; 20MB</code> 過濾表達式。</p> <p>如果標籤值的轉換或提取失敗，日誌行就不會被過濾，而會添加一個 <strong>error</strong> 標籤。你可以使用 <code>and</code>　和 <code>or</code> 來連接多個謂詞，它們分別表示 <strong>且</strong> 和 <strong>或</strong> 的二進制操作，<code>and</code> 可以用逗號、空格或其他管道來表示，標籤過濾器可以放在日誌管道的任何地方。</p> <p>以下所有的表達式都是等價的:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=p>|</span> duration &gt;<span class=o>=</span> 20ms or <span class=nv>size</span> <span class=o>==</span> 20kb and method!~<span class=s2>"2.."</span>
<a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a><span class=p>|</span> duration &gt;<span class=o>=</span> 20ms or <span class=nv>size</span> <span class=o>==</span> 20kb <span class=p>|</span> method!~<span class=s2>"2.."</span>
<a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a><span class=p>|</span> duration &gt;<span class=o>=</span> 20ms or <span class=nv>size</span> <span class=o>==</span> 20kb,method!~<span class=s2>"2.."</span>
<a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a><span class=p>|</span> duration &gt;<span class=o>=</span> 20ms or <span class=nv>size</span> <span class=o>==</span> 20kb method!~<span class=s2>"2.."</span>
</code></pre></div> <p>默認情況下，多個謂詞的優先級是從右到左，你可以用圓括號包裝謂詞，強制使用從左到右的不同優先級。</p> <p>例如，以下內容是等價的：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a><span class=p>|</span> duration &gt;<span class=o>=</span> 20ms or <span class=nv>method</span><span class=o>=</span><span class=s2>"GET"</span> and size &lt;<span class=o>=</span> 20KB
<a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a><span class=p>|</span> <span class=o>((</span>duration &gt;<span class=o>=</span> 20ms or <span class=nv>method</span><span class=o>=</span><span class=s2>"GET"</span><span class=o>)</span> and size &lt;<span class=o>=</span> 20KB<span class=o>)</span>
</code></pre></div> <p>它將首先評估 duration&gt;=20ms or method="GET"，要首先評估 method="GET" and size&lt;=20KB，請確保使用適當的括號，如下所示。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a><span class=p>|</span> duration &gt;<span class=o>=</span> 20ms or <span class=o>(</span><span class=nv>method</span><span class=o>=</span><span class=s2>"GET"</span> and size &lt;<span class=o>=</span> 20KB<span class=o>)</span>
</code></pre></div> <p>標籤過濾器表達式支持匹配 IP 地址。有關詳細信息，請參閱<a href=https://grafana.com/docs/loki/latest/logql/ip/ >匹配 IP 地址</a>。</p> <h4 id=parser-expression>Parser expression<a class=headerlink href=#parser-expression title="Permanent link">¶</a></h4> <p><strong>解析器表達式</strong> 可以解析和提取日誌內容中的標籤，這些提取的標籤可以用於標籤過濾表達式進行過濾，或者用於指標聚合。</p> <p>提取的標籤鍵將由解析器進行自動格式化，以遵循 Prometheus 指標名稱的約定（它們只能包含 ASCII 字母和數字，以及下劃線和冒號，不能以數字開頭）。</p> <p>例如下面的日誌經過管道 <code>| json</code> 將產生以下 Map 數據：</p> <p>日誌原始數據:</p> <div class=highlight><span class=filename>log line</span><pre><span></span><code><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a><span class=p>{</span><span class=w> </span><span class=nt>"a.b"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nt>"c"</span><span class=p>:</span><span class=w> </span><span class=s2>"d"</span><span class=w> </span><span class=p>},</span><span class=w> </span><span class=nt>"e"</span><span class=p>:</span><span class=w> </span><span class=s2>"f"</span><span class=w> </span><span class=p>}</span><span class=w></span>
</code></pre></div> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/log-line-json-parser.png><img alt src=../assets/log-line-json-parser.png></a></p> <p>解析器表達式處理後結果:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a><span class=o>{</span><span class=nv>a_b_c</span><span class=o>=</span><span class=s2>"d"</span>, <span class=nv>e</span><span class=o>=</span><span class=s2>"f"</span><span class=o>}</span>
</code></pre></div> <p>在出現錯誤的情況下，例如，如果該行不是預期的格式，該日誌行不會被過濾，而是會被添加一個新的 <code>__error__</code> 標籤。</p> <p>需要注意的是如果一個提取的標籤鍵名已經存在於原始日誌流中，那麼提取的標籤鍵將以 <code>_extracted</code> 作爲後綴，以區分兩個標籤，你可以使用一個標籤格式化表達式來強行覆蓋原始標籤，但是如果一個提取的鍵出現了兩次，那麼只有最新的標籤值會被保留。</p> <p>目前支持 json、logfmt、pattern、regexp 和 unpack 這幾種解析器。</p> <p>我們應該儘可能使用 json 和 logfmt 等預定義的解析器，這會更加容易，而當日志行結構異常時，可以使用 regexp，可以在同一日誌管道中使用多個解析器，這在你解析複雜日誌時很有用。</p> <h5 id=json>json 解析器<a class=headerlink href=#json title="Permanent link">¶</a></h5> <p>json 解析器有兩種模式運行。</p> <p><strong>沒有參數</strong>:</p> <p>如果日誌行是一個有效的 json 文檔，在你的管道中添加 <code>| json</code> 將提取所有 json 屬性作爲標籤，嵌套的屬性會使用 <code>_</code> 分隔符被平鋪到標籤鍵中。</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>注意：數組會被忽略。</p> </div> <p>例如，使用 json 解析器從以下文件內容中提取標籤。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=p>{</span><span class=w></span>
<a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a><span class=w>  </span><span class=nt>"protocol"</span><span class=p>:</span><span class=w> </span><span class=s2>"HTTP/2.0"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a><span class=w>  </span><span class=nt>"servers"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>"129.0.1.1"</span><span class=p>,</span><span class=w> </span><span class=s2>"10.2.1.3"</span><span class=p>],</span><span class=w></span>
<a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a><span class=w>  </span><span class=nt>"request"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a><span class=w>    </span><span class=nt>"time"</span><span class=p>:</span><span class=w> </span><span class=s2>"6.032"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a><span class=w>    </span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"GET"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a><span class=w>    </span><span class=nt>"host"</span><span class=p>:</span><span class=w> </span><span class=s2>"foo.grafana.net"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a><span class=w>    </span><span class=nt>"size"</span><span class=p>:</span><span class=w> </span><span class=s2>"55"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-9-9 id=__codelineno-9-9 name=__codelineno-9-9></a><span class=w>    </span><span class=nt>"headers"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a href=#__codelineno-9-10 id=__codelineno-9-10 name=__codelineno-9-10></a><span class=w>      </span><span class=nt>"Accept"</span><span class=p>:</span><span class=w> </span><span class=s2>"*/*"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-9-11 id=__codelineno-9-11 name=__codelineno-9-11></a><span class=w>      </span><span class=nt>"User-Agent"</span><span class=p>:</span><span class=w> </span><span class=s2>"curl/7.68.0"</span><span class=w></span>
<a href=#__codelineno-9-12 id=__codelineno-9-12 name=__codelineno-9-12></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a href=#__codelineno-9-13 id=__codelineno-9-13 name=__codelineno-9-13></a><span class=w>  </span><span class=p>},</span><span class=w></span>
<a href=#__codelineno-9-14 id=__codelineno-9-14 name=__codelineno-9-14></a><span class=w>  </span><span class=nt>"response"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a href=#__codelineno-9-15 id=__codelineno-9-15 name=__codelineno-9-15></a><span class=w>    </span><span class=nt>"status"</span><span class=p>:</span><span class=w> </span><span class=mi>401</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-9-16 id=__codelineno-9-16 name=__codelineno-9-16></a><span class=w>    </span><span class=nt>"size"</span><span class=p>:</span><span class=w> </span><span class=s2>"228"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-9-17 id=__codelineno-9-17 name=__codelineno-9-17></a><span class=w>    </span><span class=nt>"latency_seconds"</span><span class=p>:</span><span class=w> </span><span class=s2>"6.031"</span><span class=w></span>
<a href=#__codelineno-9-18 id=__codelineno-9-18 name=__codelineno-9-18></a><span class=w>  </span><span class=p>}</span><span class=w></span>
<a href=#__codelineno-9-19 id=__codelineno-9-19 name=__codelineno-9-19></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>可以得到如下所示的標籤列表：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a><span class=s2>"protocol"</span> <span class=o>=</span>&gt; <span class=s2>"HTTP/2.0"</span>
<a href=#__codelineno-10-2 id=__codelineno-10-2 name=__codelineno-10-2></a><span class=s2>"request_time"</span> <span class=o>=</span>&gt; <span class=s2>"6.032"</span>
<a href=#__codelineno-10-3 id=__codelineno-10-3 name=__codelineno-10-3></a><span class=s2>"request_method"</span> <span class=o>=</span>&gt; <span class=s2>"GET"</span>
<a href=#__codelineno-10-4 id=__codelineno-10-4 name=__codelineno-10-4></a><span class=s2>"request_host"</span> <span class=o>=</span>&gt; <span class=s2>"foo.grafana.net"</span>
<a href=#__codelineno-10-5 id=__codelineno-10-5 name=__codelineno-10-5></a><span class=s2>"request_size"</span> <span class=o>=</span>&gt; <span class=s2>"55"</span>
<a href=#__codelineno-10-6 id=__codelineno-10-6 name=__codelineno-10-6></a><span class=s2>"response_status"</span> <span class=o>=</span>&gt; <span class=s2>"401"</span>
<a href=#__codelineno-10-7 id=__codelineno-10-7 name=__codelineno-10-7></a><span class=s2>"response_size"</span> <span class=o>=</span>&gt; <span class=s2>"228"</span>
<a href=#__codelineno-10-8 id=__codelineno-10-8 name=__codelineno-10-8></a><span class=s2>"response_latency_seconds"</span> <span class=o>=</span>&gt; <span class=s2>"6.031"</span>
</code></pre></div> <p><strong>帶參數的</strong>:</p> <p>在你的管道中使用 <code>|json label="expression", another="expression"</code> 將只提取指定的 json 字段爲標籤，你可以用這種方式指定一個或多個表達式，與 label_format 相同，所有表達式必須加引號。</p> <p>當前僅支持字段訪問（<code>my.field</code>, <code>my["field"]</code>）和數組訪問（<code>list[0]</code>），以及任何級別嵌套中的這些組合（<code>my.list[0]["field"]</code>）。</p> <p>例如，<code>|json first_server="servers[0]", ua="request.headers[\"User-Agent\"]</code> 將從以下日誌文件中提取標籤：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a><span class=p>{</span><span class=w></span>
<a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a><span class=w>  </span><span class=nt>"protocol"</span><span class=p>:</span><span class=w> </span><span class=s2>"HTTP/2.0"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a><span class=w>  </span><span class=nt>"servers"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>"129.0.1.1"</span><span class=p>,</span><span class=w> </span><span class=s2>"10.2.1.3"</span><span class=p>],</span><span class=w></span>
<a href=#__codelineno-11-4 id=__codelineno-11-4 name=__codelineno-11-4></a><span class=w>  </span><span class=nt>"request"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a href=#__codelineno-11-5 id=__codelineno-11-5 name=__codelineno-11-5></a><span class=w>    </span><span class=nt>"time"</span><span class=p>:</span><span class=w> </span><span class=s2>"6.032"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-11-6 id=__codelineno-11-6 name=__codelineno-11-6></a><span class=w>    </span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"GET"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-11-7 id=__codelineno-11-7 name=__codelineno-11-7></a><span class=w>    </span><span class=nt>"host"</span><span class=p>:</span><span class=w> </span><span class=s2>"foo.grafana.net"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-11-8 id=__codelineno-11-8 name=__codelineno-11-8></a><span class=w>    </span><span class=nt>"size"</span><span class=p>:</span><span class=w> </span><span class=s2>"55"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-11-9 id=__codelineno-11-9 name=__codelineno-11-9></a><span class=w>    </span><span class=nt>"headers"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a href=#__codelineno-11-10 id=__codelineno-11-10 name=__codelineno-11-10></a><span class=w>      </span><span class=nt>"Accept"</span><span class=p>:</span><span class=w> </span><span class=s2>"*/*"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-11-11 id=__codelineno-11-11 name=__codelineno-11-11></a><span class=w>      </span><span class=nt>"User-Agent"</span><span class=p>:</span><span class=w> </span><span class=s2>"curl/7.68.0"</span><span class=w></span>
<a href=#__codelineno-11-12 id=__codelineno-11-12 name=__codelineno-11-12></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a href=#__codelineno-11-13 id=__codelineno-11-13 name=__codelineno-11-13></a><span class=w>  </span><span class=p>},</span><span class=w></span>
<a href=#__codelineno-11-14 id=__codelineno-11-14 name=__codelineno-11-14></a><span class=w>  </span><span class=nt>"response"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a href=#__codelineno-11-15 id=__codelineno-11-15 name=__codelineno-11-15></a><span class=w>    </span><span class=nt>"status"</span><span class=p>:</span><span class=w> </span><span class=mi>401</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-11-16 id=__codelineno-11-16 name=__codelineno-11-16></a><span class=w>    </span><span class=nt>"size"</span><span class=p>:</span><span class=w> </span><span class=s2>"228"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-11-17 id=__codelineno-11-17 name=__codelineno-11-17></a><span class=w>    </span><span class=nt>"latency_seconds"</span><span class=p>:</span><span class=w> </span><span class=s2>"6.031"</span><span class=w></span>
<a href=#__codelineno-11-18 id=__codelineno-11-18 name=__codelineno-11-18></a><span class=w>  </span><span class=p>}</span><span class=w></span>
<a href=#__codelineno-11-19 id=__codelineno-11-19 name=__codelineno-11-19></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>提取的標籤列表爲：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a><span class=s2>"first_server"</span> <span class=o>=</span>&gt; <span class=s2>"129.0.1.1"</span>
<a href=#__codelineno-12-2 id=__codelineno-12-2 name=__codelineno-12-2></a><span class=s2>"ua"</span> <span class=o>=</span>&gt; <span class=s2>"curl/7.68.0"</span>
</code></pre></div> <h5 id=logfmt>logfmt 解析器<a class=headerlink href=#logfmt title="Permanent link">¶</a></h5> <p>logfmt 解析器可以通過使用 <code>| logfmt</code> 來添加，它將從 logfmt 格式的日誌行中提前所有的鍵和值。</p> <p>例如，下面的日誌行數據：</p> <div class=highlight><span class=filename>log line</span><pre><span></span><code><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a><span class=nv>at</span><span class=o>=</span>info <span class=nv>method</span><span class=o>=</span>GET <span class=nv>path</span><span class=o>=</span>/ <span class=nv>host</span><span class=o>=</span>grafana.net <span class=nv>fwd</span><span class=o>=</span><span class=s2>"124.133.124.161"</span> <span class=nv>service</span><span class=o>=</span>8ms <span class=nv>status</span><span class=o>=</span><span class=m>200</span>
</code></pre></div> <p>將提取得到如下所示的標籤：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a><span class=s2>"at"</span> <span class=o>=</span>&gt; <span class=s2>"info"</span>
<a href=#__codelineno-14-2 id=__codelineno-14-2 name=__codelineno-14-2></a><span class=s2>"method"</span> <span class=o>=</span>&gt; <span class=s2>"GET"</span>
<a href=#__codelineno-14-3 id=__codelineno-14-3 name=__codelineno-14-3></a><span class=s2>"path"</span> <span class=o>=</span>&gt; <span class=s2>"/"</span>
<a href=#__codelineno-14-4 id=__codelineno-14-4 name=__codelineno-14-4></a><span class=s2>"host"</span> <span class=o>=</span>&gt; <span class=s2>"grafana.net"</span>
<a href=#__codelineno-14-5 id=__codelineno-14-5 name=__codelineno-14-5></a><span class=s2>"fwd"</span> <span class=o>=</span>&gt; <span class=s2>"124.133.124.161"</span>
<a href=#__codelineno-14-6 id=__codelineno-14-6 name=__codelineno-14-6></a><span class=s2>"service"</span> <span class=o>=</span>&gt; <span class=s2>"8ms"</span>
<a href=#__codelineno-14-7 id=__codelineno-14-7 name=__codelineno-14-7></a><span class=s2>"status"</span> <span class=o>=</span>&gt; <span class=s2>"200"</span>
</code></pre></div> <h5 id=regexp>regexp 解析器<a class=headerlink href=#regexp title="Permanent link">¶</a></h5> <p>與 logfmt 和 json（它們隱式提取所有值且不需要參數）不同，regexp 解析器採用單個參數 <code>| regexp "&lt;re&gt;"</code> 的格式，其參數是使用 Golang RE2 語法的正則表達式。</p> <p>正則表達式必須包含至少一個命名的子匹配（例如<code>(?P&lt;name&gt;re)</code>），每個子匹配項都會提取一個不同的標籤。</p> <p>例如，解析器 <code>| regexp "(?P&lt;method&gt;\\w+) (?P&lt;path&gt;[\\w|/]+) \\((?P&lt;status&gt;\\d+?)\\) (?P&lt;duration&gt;.*)"</code>將從以下行中提取標籤：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a>POST /api/prom/api/v1/query_range <span class=o>(</span><span class=m>200</span><span class=o>)</span> <span class=m>1</span>.5s
</code></pre></div> <p>提取的標籤爲：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a><span class=s2>"method"</span> <span class=o>=</span>&gt; <span class=s2>"POST"</span>
<a href=#__codelineno-16-2 id=__codelineno-16-2 name=__codelineno-16-2></a><span class=s2>"path"</span> <span class=o>=</span>&gt; <span class=s2>"/api/prom/api/v1/query_range"</span>
<a href=#__codelineno-16-3 id=__codelineno-16-3 name=__codelineno-16-3></a><span class=s2>"status"</span> <span class=o>=</span>&gt; <span class=s2>"200"</span>
<a href=#__codelineno-16-4 id=__codelineno-16-4 name=__codelineno-16-4></a><span class=s2>"duration"</span> <span class=o>=</span>&gt; <span class=s2>"1.5s"</span>
</code></pre></div> <p>下列工具可幫助驗證語法的執行：</p> <ul> <li>工具：　<a href=https://regoio.herokuapp.com/ >https://regoio.herokuapp.com/</a></li> </ul> <p>正則表達式: <code>(?P&lt;method&gt;\w+) (?P&lt;path&gt;[\w|/]+) \((?P&lt;status&gt;\d+?)\) (?P&lt;duration&gt;.*)</code></p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/go-re2-test.resized.png><img alt src=../assets/go-re2-test.resized.png></a></p> <ul> <li>工具：　<a href=https://grafana.com/docs/loki/latest/logql/analyzer/ >https://grafana.com/docs/loki/latest/logql/analyzer/</a></li> </ul> <p>Query表達式: <code>| regexp "(?P&lt;method&gt;\\w+) (?P&lt;path&gt;[\\w|/]+) \\((?P&lt;status&gt;\\d+?)\\) (?P&lt;duration&gt;.*)"</code></p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/go-re2-test2.resized.png><img alt src=../assets/go-re2-test2.resized.png></a></p> <h5 id=pattern>pattern 解析器<a class=headerlink href=#pattern title="Permanent link">¶</a></h5> <p>模式解析器允許通過定義模式表達式 <code>| pattern "&lt;pattern-expression&gt;"</code> 從日誌行中顯式提取字段，該表達式與日誌行的結構相匹配。</p> <p>比如我們來考慮下面的 NGINX 日誌行數據：</p> <div class=highlight><span class=filename>log line</span><pre><span></span><code><a href=#__codelineno-17-1 id=__codelineno-17-1 name=__codelineno-17-1></a><span class=m>0</span>.191.12.2 - - <span class=o>[</span><span class=m>10</span>/Jun/2021:09:14:29 +0000<span class=o>]</span> <span class=s2>"GET /api/plugins/versioncheck HTTP/1.1"</span> <span class=m>200</span> <span class=m>2</span> <span class=s2>"-"</span> <span class=s2>"Go-http-client/2.0"</span> <span class=s2>"13.76.247.102, 34.120.177.193"</span> <span class=s2>"TLSv1.2"</span> <span class=s2>"US"</span> <span class=s2>""</span>
</code></pre></div> <p>該日誌行可以用下面的表達式來解析：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-18-1 id=__codelineno-18-1 name=__codelineno-18-1></a>&lt;ip&gt; - - &lt;_&gt; <span class=s2>"&lt;method&gt; &lt;uri&gt; &lt;_&gt;"</span> &lt;status&gt; &lt;size&gt; &lt;_&gt; <span class=s2>"&lt;agent&gt;"</span> &lt;_&gt;
</code></pre></div> <p>解析後可以提取出下面的這些屬性：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-19-1 id=__codelineno-19-1 name=__codelineno-19-1></a><span class=s2>"ip"</span> <span class=o>=</span>&gt; <span class=s2>"0.191.12.2"</span>
<a href=#__codelineno-19-2 id=__codelineno-19-2 name=__codelineno-19-2></a><span class=s2>"method"</span> <span class=o>=</span>&gt; <span class=s2>"GET"</span>
<a href=#__codelineno-19-3 id=__codelineno-19-3 name=__codelineno-19-3></a><span class=s2>"uri"</span> <span class=o>=</span>&gt; <span class=s2>"/api/plugins/versioncheck"</span>
<a href=#__codelineno-19-4 id=__codelineno-19-4 name=__codelineno-19-4></a><span class=s2>"status"</span> <span class=o>=</span>&gt; <span class=s2>"200"</span>
<a href=#__codelineno-19-5 id=__codelineno-19-5 name=__codelineno-19-5></a><span class=s2>"size"</span> <span class=o>=</span>&gt; <span class=s2>"2"</span>
<a href=#__codelineno-19-6 id=__codelineno-19-6 name=__codelineno-19-6></a><span class=s2>"agent"</span> <span class=o>=</span>&gt; <span class=s2>"Go-http-client/2.0"</span>
</code></pre></div> <p>模式表達式的捕獲是由 <code>&lt;</code> 和 <code>&gt;</code> 字符分隔的字段名稱，比如 <example> 定義了字段名稱爲 example，未命名的 capture 顯示爲 <code>&lt;_&gt;</code>，未命名的 capture 會跳過匹配的內容。默認情況下，模式表達式錨定在日誌行的開頭，可以在表達式的開頭使用 <code>&lt;_&gt;</code> 將表達式錨定在開頭。</example></p> <p>比如我們查看下面的日誌行數據：</p> <div class=highlight><span class=filename>log line</span><pre><span></span><code><a href=#__codelineno-20-1 id=__codelineno-20-1 name=__codelineno-20-1></a><span class=nv>level</span><span class=o>=</span>debug <span class=nv>ts</span><span class=o>=</span><span class=m>2021</span>-06-10T09:24:13.472094048Z <span class=nv>caller</span><span class=o>=</span>logging.go:66 <span class=nv>traceID</span><span class=o>=</span>0568b66ad2d9294c <span class=nv>msg</span><span class=o>=</span><span class=s2>"POST /loki/api/v1/push (204) 16.652862ms"</span>
</code></pre></div> <p>我們如果只希望去匹配 <code>msg="</code> 的內容，我們可以使用下面的表達式來進行匹配：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-21-1 id=__codelineno-21-1 name=__codelineno-21-1></a>&lt;_&gt; <span class=nv>msg</span><span class=o>=</span><span class=s2>"&lt;method&gt; &lt;path&gt; (&lt;status&gt;) &lt;latency&gt;"</span>
</code></pre></div> <h4 id=line-format-expression>Line format expression<a class=headerlink href=#line-format-expression title="Permanent link">¶</a></h4> <p>日誌行格式化表達式可以通過使用 Golang 的 text/template 模板格式重寫日誌行的內容，它需要一個字符串參數 <code>| line_format "{{.label_name}}"</code> 作爲模板格式，所有的標籤都是注入模板的變量，可以用 <code>{{.label_name}}</code> 的符號來使用。</p> <p>例如，下面的表達式：</p> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-22-1 id=__codelineno-22-1 name=__codelineno-22-1></a><span class=o>{</span><span class=nv>container</span><span class=o>=</span><span class=s2>"frontend"</span><span class=o>}</span> <span class=p>|</span> logfmt <span class=p>|</span> line_format <span class=s2>"{{.query}} {{.duration}}"</span>
</code></pre></div> <p>將提取並重寫日誌行，只包含 query 和請求的 duration。你可以爲模板使用雙引號字符串或反引號 <code>"{{.label_name}}"</code> 來避免轉義特殊字符。</p> <p>此外 line_format 也支持數學函數，例如：</p> <p>如果我們有以下標籤 ip=1.1.1.1, status=200 和 duration=3000(ms), 我們可以用 duration 除以 1000 得到以秒爲單位的值：</p> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-23-1 id=__codelineno-23-1 name=__codelineno-23-1></a><span class=o>{</span><span class=nv>container</span><span class=o>=</span><span class=s2>"frontend"</span><span class=o>}</span> <span class=p>|</span> logfmt <span class=p>|</span> line_format <span class=s2>"{{.ip}} {{.status}} {{div .duration 1000}}"</span>
</code></pre></div> <p>上面的查詢將得到的日誌行內容爲:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-24-1 id=__codelineno-24-1 name=__codelineno-24-1></a><span class=m>1</span>.1.1.1 <span class=m>200</span> <span class=m>3</span>
</code></pre></div> <p>請參閱<a href=https://grafana.com/docs/loki/latest/logql/template_functions/ >模板函數</a>以了解模板格式中的可用函數。</p> <h4 id=labels-format-expression>Labels format expression<a class=headerlink href=#labels-format-expression title="Permanent link">¶</a></h4> <p><code>| label_format</code> 表達式可以重命名、修改或添加標籤，它以逗號分隔的操作列表作爲參數，可以同時進行多個操作。</p> <p>當兩邊都是標籤標識符時，例如 <code>dst=src</code>，該操作將把 <code>src</code> 標籤重命名爲 <code>dst</code>。</p> <p>左邊也可以是一個模板字符串，例如 <code>dst="{{.status}} {{.query}}"</code>，在這種情況下，<code>dst</code> 標籤值會被 Golang 模板執行結果所取代，這與 <code>| line_format</code> 表達式是同一個模板引擎，這意味着標籤可以作爲變量使用，也可以使用同樣的函數列表。</p> <p>在上面兩種情況下，如果目標標籤不存在，那麼就會創建一個新的標籤。</p> <p>重命名形式 dst=src 會在將 src 標籤重新映射到 dst 標籤後將其刪除，然而，模板形式將保留引用的標籤，例如 dst="{{.src}}" 的結果是 dst 和 src 都有相同的值。</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>一個標籤名稱在每個表達式中只能出現一次，這意味着 <code>| label_format foo=bar,foo="new"</code> 是不允許的，但你可以使用兩個表達式來達到預期效果，比如 <code>| label_format foo=bar | label_format foo="new"</code>。</p> </div> <h3 id=log-query_1>Log query 示例<a class=headerlink href=#log-query_1 title="Permanent link">¶</a></h3> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/query_components.png><img alt src=../assets/query_components.png></a></p> <h4 id=multiple-filtering>Multiple filtering<a class=headerlink href=#multiple-filtering title="Permanent link">¶</a></h4> <p>過濾應該首先在日誌流選擇器使用標籤匹配器來限縮loki要查找的日誌，然後是日誌行過濾器（如果可能），最後再使用標籤過濾器。以下查詢示範了這一點。</p> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-25-1 id=__codelineno-25-1 name=__codelineno-25-1></a><span class=o>{</span><span class=nv>cluster</span><span class=o>=</span><span class=s2>"ops-tools1"</span>, <span class=nv>namespace</span><span class=o>=</span><span class=s2>"loki-dev"</span>, <span class=nv>job</span><span class=o>=</span><span class=s2>"loki-dev/query-frontend"</span><span class=o>}</span> <span class=p>|</span><span class=o>=</span> <span class=s2>"metrics.go"</span> !<span class=o>=</span><span class=s2>"out of order"</span> <span class=p>|</span> logfmt <span class=p>|</span> duration &gt; 30s or status_code!<span class=o>=</span><span class=s2>"200"</span>
</code></pre></div> <ol> <li>日誌流選擇器: <code>{cluster="ops-tools1", namespace="loki-dev", job="loki-dev/query-frontend"}</code></li> <li>日誌行過濾表達式: <code>|= "metrics.go" !="out of order"</code></li> <li>解析器表達式: <code>| logfmt</code></li> <li>標籤過濾表達式: <code>| duration &gt; 30s or status_code!="200"</code></li> </ol> <h4 id=multiple-parsers>Multiple parsers<a class=headerlink href=#multiple-parsers title="Permanent link">¶</a></h4> <p>提取以下 logfmt 日誌行的方法和路徑：</p> <div class=highlight><span class=filename>log line</span><pre><span></span><code><a href=#__codelineno-26-1 id=__codelineno-26-1 name=__codelineno-26-1></a><span class=nv>level</span><span class=o>=</span>debug <span class=nv>ts</span><span class=o>=</span><span class=m>2020</span>-10-02T10:10:42.092268913Z <span class=nv>caller</span><span class=o>=</span>logging.go:66 <span class=nv>traceID</span><span class=o>=</span>a9d4d8a928d8db1 <span class=nv>msg</span><span class=o>=</span><span class=s2>"POST /api/prom/api/v1/query_range (200) 1.5s"</span>
</code></pre></div> <p>您可以像這樣使用多個解析器（logfmt 和 regexp）。_</p> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-27-1 id=__codelineno-27-1 name=__codelineno-27-1></a><span class=o>{</span><span class=nv>job</span><span class=o>=</span><span class=s2>"loki-ops/query-frontend"</span><span class=o>}</span> <span class=p>|</span> logfmt <span class=p>|</span> line_format <span class=s2>"{{.msg}}"</span> <span class=p>|</span> regexp <span class=s2>"(?P&lt;method&gt;\\w+) (?P&lt;path&gt;[\\w|/]+) \\((?P&lt;status&gt;\\d+?)\\) (?P&lt;duration&gt;.*)"</span>
</code></pre></div> <p>這是可能的，因為 <code>| line_format</code> 將日誌行重新格式化為 <code>POST /api/prom/api/v1/query_range (200) 1.5s</code> 然後可以使用 <code>| regexp ...</code> 解析器。</p> <p>另外一個常用解析 Niginx 日誌行的範例：</p> <div class=highlight><span class=filename>log line</span><pre><span></span><code><a href=#__codelineno-28-1 id=__codelineno-28-1 name=__codelineno-28-1></a><span class=m>54</span>.203.113.59 - - <span class=o>[</span><span class=m>09</span>/Sep/2022:03:34:45 +0000<span class=o>]</span> <span class=s2>"PUT /index.html HTTP/1.1"</span> <span class=m>200</span> <span class=m>3622</span> <span class=s2>"-"</span> <span class=s2>"Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.101 Safari/537.36 OPR/40.0.2308.62"</span> <span class=s2>"-"</span>
</code></pre></div> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-29-1 id=__codelineno-29-1 name=__codelineno-29-1></a><span class=o>{</span><span class=nv>namespace</span><span class=o>=</span><span class=s2>"default"</span><span class=o>}</span> <span class=p>|</span> json <span class=p>|</span> line_format <span class=s2>"{{.message}}"</span> <span class=p>|</span> pattern <span class=s2>"&lt;_&gt; - &lt;_&gt; &lt;_&gt; \"&lt;method&gt; &lt;url&gt; &lt;protocol&gt;\" &lt;status&gt; &lt;_&gt; &lt;_&gt; \"&lt;_&gt;\" &lt;_&gt;"</span> 
</code></pre></div> <h4 id=formatting>Formatting<a class=headerlink href=#formatting title="Permanent link">¶</a></h4> <p>以下查詢顯示瞭如何重新格式化日誌行以使其更易於在屏幕上閱讀。</p> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-30-1 id=__codelineno-30-1 name=__codelineno-30-1></a><span class=o>{</span><span class=nv>cluster</span><span class=o>=</span><span class=s2>"ops-tools1"</span>, <span class=nv>name</span><span class=o>=</span><span class=s2>"querier"</span>, <span class=nv>namespace</span><span class=o>=</span><span class=s2>"loki-dev"</span><span class=o>}</span>
<a href=#__codelineno-30-2 id=__codelineno-30-2 name=__codelineno-30-2></a>  <span class=p>|</span><span class=o>=</span> <span class=s2>"metrics.go"</span> !<span class=o>=</span> <span class=s2>"loki-canary"</span>
<a href=#__codelineno-30-3 id=__codelineno-30-3 name=__codelineno-30-3></a>  <span class=p>|</span> logfmt
<a href=#__codelineno-30-4 id=__codelineno-30-4 name=__codelineno-30-4></a>  <span class=p>|</span> query !<span class=o>=</span> <span class=s2>""</span>
<a href=#__codelineno-30-5 id=__codelineno-30-5 name=__codelineno-30-5></a>  <span class=p>|</span> label_format <span class=nv>query</span><span class=o>=</span><span class=s2>"{{ Replace .query \"\\n\" \"\" -1 }}"</span>
<a href=#__codelineno-30-6 id=__codelineno-30-6 name=__codelineno-30-6></a>  <span class=p>|</span> line_format <span class=s2>"{{ .ts}}\t{{.duration}}\ttraceID = {{.traceID}}\t{{ printf \"%-100.100s\" .query }} "</span>
</code></pre></div> <p>標籤格式用於清理查詢，而行格式減少信息量並創建表格輸出。</p> <p>對於這些給定的日誌行：</p> <div class=highlight><span class=filename>log line</span><pre><span></span><code><a href=#__codelineno-31-1 id=__codelineno-31-1 name=__codelineno-31-1></a><span class=nv>level</span><span class=o>=</span>info <span class=nv>ts</span><span class=o>=</span><span class=m>2020</span>-10-23T20:32:18.094668233Z <span class=nv>caller</span><span class=o>=</span>metrics.go:81 <span class=nv>org_id</span><span class=o>=</span><span class=m>29</span> <span class=nv>traceID</span><span class=o>=</span>1980d41501b57b68 <span class=nv>latency</span><span class=o>=</span>fast <span class=nv>query</span><span class=o>=</span><span class=s2>"{cluster=\"ops-tools1\", job=\"loki-ops/query-frontend\"} |= \"query_range\""</span> <span class=nv>query_type</span><span class=o>=</span>filter <span class=nv>range_type</span><span class=o>=</span>range <span class=nv>length</span><span class=o>=</span>15m0s <span class=nv>step</span><span class=o>=</span>7s <span class=nv>duration</span><span class=o>=</span><span class=m>650</span>.22401ms <span class=nv>status</span><span class=o>=</span><span class=m>200</span> <span class=nv>throughput_mb</span><span class=o>=</span><span class=m>1</span>.529717 <span class=nv>total_bytes_mb</span><span class=o>=</span><span class=m>0</span>.994659
<a href=#__codelineno-31-2 id=__codelineno-31-2 name=__codelineno-31-2></a><span class=nv>level</span><span class=o>=</span>info <span class=nv>ts</span><span class=o>=</span><span class=m>2020</span>-10-23T20:32:18.068866235Z <span class=nv>caller</span><span class=o>=</span>metrics.go:81 <span class=nv>org_id</span><span class=o>=</span><span class=m>29</span> <span class=nv>traceID</span><span class=o>=</span>1980d41501b57b68 <span class=nv>latency</span><span class=o>=</span>fast <span class=nv>query</span><span class=o>=</span><span class=s2>"{cluster=\"ops-tools1\", job=\"loki-ops/query-frontend\"} |= \"query_range\""</span> <span class=nv>query_type</span><span class=o>=</span>filter <span class=nv>range_type</span><span class=o>=</span>range <span class=nv>length</span><span class=o>=</span>15m0s <span class=nv>step</span><span class=o>=</span>7s <span class=nv>duration</span><span class=o>=</span><span class=m>624</span>.008132ms <span class=nv>status</span><span class=o>=</span><span class=m>200</span> <span class=nv>throughput_mb</span><span class=o>=</span><span class=m>0</span>.693449 <span class=nv>total_bytes_mb</span><span class=o>=</span><span class=m>0</span>.432718
</code></pre></div> <p>結果將是：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-32-1 id=__codelineno-32-1 name=__codelineno-32-1></a><span class=m>2020</span>-10-23T20:32:18.094668233Z  <span class=m>650</span>.22401ms     <span class=nv>traceID</span> <span class=o>=</span> 1980d41501b57b68  <span class=o>{</span><span class=nv>cluster</span><span class=o>=</span><span class=s2>"ops-tools1"</span>, <span class=nv>job</span><span class=o>=</span><span class=s2>"loki-ops/query-frontend"</span><span class=o>}</span> <span class=p>|</span><span class=o>=</span> <span class=s2>"query_range"</span>
<a href=#__codelineno-32-2 id=__codelineno-32-2 name=__codelineno-32-2></a><span class=m>2020</span>-10-23T20:32:18.068866235Z  <span class=m>624</span>.008132ms    <span class=nv>traceID</span> <span class=o>=</span> 1980d41501b57b68  <span class=o>{</span><span class=nv>cluster</span><span class=o>=</span><span class=s2>"ops-tools1"</span>, <span class=nv>job</span><span class=o>=</span><span class=s2>"loki-ops/query-frontend"</span><span class=o>}</span> <span class=p>|</span><span class=o>=</span> <span class=s2>"query_range"</span>
</code></pre></div> <h2 id=metric-query>Metric query<a class=headerlink href=#metric-query title="Permanent link">¶</a></h2> <p>度量查詢通過應用函數來記錄查詢結果來擴展日誌查詢。這個強大的功能從日誌中創建指標。</p> <p>指標查詢可用於計算錯誤消息率或最近 3 小時內日誌數量最多的前 N ​​個日誌源。</p> <p>與解析器相結合，度量查詢還可用於從日誌行中的樣本值計算度量，例如延遲或請求大小。所有標籤，包括提取的標籤，都可用於聚合和生成新系列。</p> <h3 id=range-vector-aggregation>Range Vector aggregation<a class=headerlink href=#range-vector-aggregation title="Permanent link">¶</a></h3> <p>LogQL 學習了 Prometheus 的範圍向量概念。在 Grafana Loki 中，所選樣本範圍是所選對數或標籤值的範圍。</p> <p>在一段時間內應用聚合。 Loki 使用與 Prometheus 相同的語法定義 Time Duration。</p> <p>Loki 支持兩種類型的範圍向量聚合：日誌範圍聚合和展開範圍聚合。</p> <h4 id=log-range-aggregations>Log range aggregations<a class=headerlink href=#log-range-aggregations title="Permanent link">¶</a></h4> <p>日誌範圍聚合是一個查詢，後綴定義了一個持續時間。應用一個函數在持續時間內聚合查詢。持續時間可以放在日誌流選擇器之後或日誌管道的末尾。</p> <p>聚合函數：</p> <ul> <li><code>rate(log-range)</code>: 計算每秒的日誌條目</li> <li><code>count_over_time(log-range)</code>: 對指定範圍內的每個日誌流的條目進行計數</li> <li><code>bytes_rate(log-range)</code>: 計算日誌流每秒的字節數</li> <li><code>bytes_over_time(log-range)</code>: 對指定範圍內的每個日誌流的使用的字節數</li> <li><code>absent_over_time(log-range)</code>: 如果傳遞給它的範圍向量有任何元素，則返回一個空向量；如果傳遞給它的範圍向量沒有元素，則返回一個值為 1 的 1 元素向量。 （absent_over_time 對於在一段時間內不存在標籤組合的時間序列和日誌流時發出警報很有用。）</li> </ul> <p>例子：</p> <ul> <li>計算 MySQL job最後五分鐘內的所有日誌行計數。</li> </ul> <div class=highlight><pre><span></span><code><a href=#__codelineno-33-1 id=__codelineno-33-1 name=__codelineno-33-1></a>count_over_time<span class=o>({</span><span class=nv>job</span><span class=o>=</span><span class=s2>"mysql"</span><span class=o>}[</span>5m<span class=o>])</span>
</code></pre></div> <ul> <li>此聚合包括過濾器和解析器。它返回 MySQL job在每台主機的最後幾分鐘內所有非超時錯誤的每秒速率，並且僅包括持續時間超過 10 秒的錯誤。</li> </ul> <div class=highlight><pre><span></span><code><a href=#__codelineno-34-1 id=__codelineno-34-1 name=__codelineno-34-1></a>sum by <span class=o>(</span>host<span class=o>)</span> <span class=o>(</span>rate<span class=o>({</span><span class=nv>job</span><span class=o>=</span><span class=s2>"mysql"</span><span class=o>}</span> <span class=p>|</span><span class=o>=</span> <span class=s2>"error"</span> !<span class=o>=</span> <span class=s2>"timeout"</span> <span class=p>|</span> json <span class=p>|</span> duration &gt; 10s <span class=o>[</span>1m<span class=o>]))</span>
</code></pre></div> <h4 id=unwrapped-range-aggregations>Unwrapped range aggregations<a class=headerlink href=#unwrapped-range-aggregations title="Permanent link">¶</a></h4> <p>Unwrapped的範圍使用提取的<code>標籤(label)</code>來作為樣本值而不是<code>日誌行(log line)</code>。但是，要選擇在聚合中使用哪個標籤，日誌查詢必須以展開表達式和可選的標籤過濾器表達式結尾以丟棄錯誤。</p> <p>註釋解包表達式 <code>| unwrap label_identifier</code> 其中標籤標識符是用於提取樣本值的標籤名稱。</p> <p>由於標籤值是字符串，默認情況下將嘗試轉換為浮點數（64 位），如果失敗，則將 <strong>error</strong> 標籤添加到樣本中。可選地，標籤標識符可以由轉換函數包裹 <code>| unwrap &lt;function&gt;(label_identifier)</code>，它將嘗試將標籤值從特定格式轉換。</p> <p>Loki 目前支持的下列轉換函數：</p> <ul> <li><code>duration_seconds(label_identifier)</code> (或是 <code>duration（label_identifier)</code>) 它將以秒為單位從 go duration 格式轉換標籤值。</li> <li><code>bytes(label_identifier)</code> 這會將標籤值轉換為應用字節單位的原始字節（例如 5 MiB、3k、1G）。</li> </ul> <p>支持 Unwrapped 範圍內操作的函數有：</p> <ul> <li><code>rate(unwrapped-range)</code>: 計算指定時間間隔內所有值之和的每秒速率。</li> <li><code>rate_counter(unwrapped-range)</code>: 計算指定間隔內的值的每秒速率，並將它們視為“計數器度量”</li> <li><code>sum_over_time(unwrapped-range)</code>: 指定區間內所有值的總和。</li> <li><code>avg_over_time(unwrapped-range)</code>: 指定區間內所有點的平均值。</li> <li><code>max_over_time(unwrapped-range)</code>: 指定區間內所有點的最大值。</li> <li><code>min_over_time(unwrapped-range)</code>: 指定區間內所有點的最小值</li> <li><code>first_over_time(unwrapped-range)</code>: 指定區間內所有點的第一個值</li> <li><code>last_over_time(unwrapped-range)</code>: 指定區間內所有點的最後一個值</li> <li><code>stdvar_over_time(unwrapped-range)</code>: 指定區間內值的總體標準方差。</li> <li><code>stddev_over_time(unwrapped-range)</code>: 指定區間內值的總體標準差。</li> <li><code>quantile_over_time(scalar,unwrapped-range)</code>: 指定區間內的值的 φ 分位數 (0 ≤ φ ≤ 1)。</li> <li><code>absent_over_time(unwrapped-range)</code>: 如果傳遞給它的範圍向量有任何元素，則返回一個空向量；如果傳遞給它的範圍向量沒有元素，則返回一個值為 1 的 1 元素向量。 （absent_over_time 對於在一段時間內不存在標籤組合的時間序列和日誌流時發出警報很有用。）</li> </ul> <p>除了 <code>sum_over_time</code>、<code>absent_over_time</code> 和 <code>rate</code>，展開的範圍聚合支持分組。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-35-1 id=__codelineno-35-1 name=__codelineno-35-1></a>&lt;aggr-op&gt;<span class=o>([</span>parameter,<span class=o>]</span> &lt;unwrapped-range&gt;<span class=o>)</span> <span class=o>[</span>without<span class=p>|</span>by <span class=o>(</span>&lt;label list&gt;<span class=o>)]</span>
</code></pre></div> <p>通過包含 without 或 by 子句，可用於聚合不同的標籤維度。</p> <p>without 從結果向量中刪除列出的標籤，而所有其他標籤都保留輸出。 by 執行相反的操作並刪除未在 by 子句中列出的標籤，即使它們的標籤值在向量的所有元素之間是相同的。</p> <p><strong>Unwrapped 範例</strong>:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-36-1 id=__codelineno-36-1 name=__codelineno-36-1></a>quantile_over_time<span class=o>(</span><span class=m>0</span>.99,                            <span class=c1># 定義要計算的分位數</span>
<a href=#__codelineno-36-2 id=__codelineno-36-2 name=__codelineno-36-2></a>  <span class=o>{</span><span class=nv>cluster</span><span class=o>=</span><span class=s2>"ops-tools1"</span>,container<span class=o>=</span><span class=s2>"ingress-nginx"</span><span class=o>}</span>　<span class=c1># 選擇特定的 lost stream</span>
<a href=#__codelineno-36-3 id=__codelineno-36-3 name=__codelineno-36-3></a>    <span class=p>|</span> json                                          <span class=c1># 使用 JSON 來解析並擷取 label</span>
<a href=#__codelineno-36-4 id=__codelineno-36-4 name=__codelineno-36-4></a>    <span class=p>|</span> <span class=nv>__error__</span> <span class=o>=</span> <span class=s2>""</span>                                <span class=c1># 去除解析有問題的日誌行</span>
<a href=#__codelineno-36-5 id=__codelineno-36-5 name=__codelineno-36-5></a>    <span class=p>|</span> unwrap request_time <span class=o>[</span>1m<span class=o>])</span> by <span class=o>(</span>path<span class=o>)</span>　         <span class=c1># 使用 "requet_time" 的標籤值來計算並且使用 path 標籤值來分組</span>
</code></pre></div> <p>此示例按路徑計算 nginx-ingress 延遲的 p99 回應時間。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-37-1 id=__codelineno-37-1 name=__codelineno-37-1></a>sum by <span class=o>(</span>org_id<span class=o>)</span> <span class=o>(</span>
<a href=#__codelineno-37-2 id=__codelineno-37-2 name=__codelineno-37-2></a>  sum_over_time<span class=o>(</span>
<a href=#__codelineno-37-3 id=__codelineno-37-3 name=__codelineno-37-3></a>  <span class=o>{</span><span class=nv>cluster</span><span class=o>=</span><span class=s2>"ops-tools1"</span>,container<span class=o>=</span><span class=s2>"loki-dev"</span><span class=o>}</span>
<a href=#__codelineno-37-4 id=__codelineno-37-4 name=__codelineno-37-4></a>      <span class=p>|</span><span class=o>=</span> <span class=s2>"metrics.go"</span>
<a href=#__codelineno-37-5 id=__codelineno-37-5 name=__codelineno-37-5></a>      <span class=p>|</span> logfmt
<a href=#__codelineno-37-6 id=__codelineno-37-6 name=__codelineno-37-6></a>      <span class=p>|</span> unwrap bytes_processed <span class=o>[</span>1m<span class=o>])</span>
<a href=#__codelineno-37-7 id=__codelineno-37-7 name=__codelineno-37-7></a>  <span class=o>)</span>
</code></pre></div> <p>這將計算每個組織 ID 處理的字節數。</p> <h3 id=built-in-aggregation-operators>Built-in aggregation operators<a class=headerlink href=#built-in-aggregation-operators title="Permanent link">¶</a></h3> <p>與 PromQL 一樣，LogQL 支持內置聚合運算符的子集，可用於聚合單個向量的元素，從而生成包含更少元素但具有聚合值的新向量：</p> <ul> <li><code>sum</code>: 計算標籤值的總和</li> <li><code>avg</code>: 計算標籤值的平均值</li> <li><code>min</code>: 選擇標籤值的最小值</li> <li><code>max</code>: 選擇標籤值的最大值</li> <li><code>stddev</code>: 計算標籤值的總體標準差</li> <li><code>stdvar</code>: 計算標籤值的總體標準方差</li> <li><code>count</code>: 計算向量中的元素個數</li> <li><code>topk</code>: 按樣本標籤值選擇最大的 k 個元素</li> <li><code>bottomk</code>: 按樣本標籤值選擇最小的 k 個元素</li> </ul> <p>聚合運算符可用於聚合所有標籤值或一組不同的標籤值，方法是包含 without 或 by 子句：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-38-1 id=__codelineno-38-1 name=__codelineno-38-1></a>&lt;aggr-op&gt;<span class=o>([</span>parameter,<span class=o>]</span> &lt;vector expression&gt;<span class=o>)</span> <span class=o>[</span>without<span class=p>|</span>by <span class=o>(</span>&lt;label list&gt;<span class=o>)]</span>
</code></pre></div> <p>使用 topk 和 bottomk 時需要定義參數(parameter)。 topk 和 bottomk 與其他聚合器的不同之處在於，輸入樣本的子集（包括原始標籤）在結果向量中返回。</p> <p>by 和 without 僅用於對輸入向量進行分組。 without 子句從結果向量中刪除列出的標籤，保留所有其他標籤。 by 子句相反，刪除子句中未列出的標籤，即使它們的標籤值在向量的所有元素之間是相同的。</p> <p><strong>Vector aggregation 範例</strong>:</p> <ul> <li>獲取日誌吞吐量最高的前 10 個應用程序：</li> </ul> <div class=highlight><pre><span></span><code><a href=#__codelineno-39-1 id=__codelineno-39-1 name=__codelineno-39-1></a>topk<span class=o>(</span><span class=m>10</span>,sum<span class=o>(</span>rate<span class=o>({</span><span class=nv>region</span><span class=o>=</span><span class=s2>"us-east1"</span><span class=o>}[</span>5m<span class=o>]))</span> by <span class=o>(</span>name<span class=o>))</span>
</code></pre></div> <ul> <li>獲取指定作業的最後五分鐘的日誌行數，按級別分組：</li> </ul> <div class=highlight><pre><span></span><code><a href=#__codelineno-40-1 id=__codelineno-40-1 name=__codelineno-40-1></a>sum<span class=o>(</span>count_over_time<span class=o>({</span><span class=nv>job</span><span class=o>=</span><span class=s2>"mysql"</span><span class=o>}[</span>5m<span class=o>]))</span> by <span class=o>(</span>level<span class=o>)</span>
</code></pre></div> <ul> <li>按區域獲取 NGINX 日誌的 /home 端點的 HTTP GET 請求速率：</li> </ul> <div class=highlight><pre><span></span><code><a href=#__codelineno-41-1 id=__codelineno-41-1 name=__codelineno-41-1></a>avg<span class=o>(</span>rate<span class=o>(({</span><span class=nv>job</span><span class=o>=</span><span class=s2>"nginx"</span><span class=o>}</span> <span class=p>|</span><span class=o>=</span> <span class=s2>"GET"</span> <span class=p>|</span> json <span class=p>|</span> <span class=nv>path</span><span class=o>=</span><span class=s2>"/home"</span><span class=o>)[</span>10s<span class=o>]))</span> by <span class=o>(</span>region<span class=o>)</span>
</code></pre></div> <h2 id=binary-operators>Binary operators<a class=headerlink href=#binary-operators title="Permanent link">¶</a></h2> <h3 id=arithmetic-operators>Arithmetic operators<a class=headerlink href=#arithmetic-operators title="Permanent link">¶</a></h3> <p>Loki 中存在以下二元算術運算符：</p> <ul> <li><code>+</code> 加法</li> <li><code>-</code> 減法</li> <li><code>*</code> 乘法</li> <li><code>/</code> 除法</li> <li><code>%</code> 求模</li> <li><code>^</code> 求冪</li> </ul> <p>二進制算術運算符定義在兩個文字（標量）、一個文字和一個向量以及兩個向量之間。</p> <p>在兩個文字之間，行為是顯而易見的：它們評估另一個文字，這是應用於兩個標量操作數 (1 + 1 = 2) 的運算符的結果。</p> <p>在向量和文字之間，運算符應用於向量中每個數據樣本的值，例如如果時間序列向量乘以 2，則結果是另一個向量，其中原始向量的每個樣本值都乘以 2。</p> <p>在兩個向量之間，二進制算術運算符應用於左側向量中的每個條目及其右側向量中的匹配元素。結果傳播到結果向量中，分組標籤成為輸出標籤集。在右側向量中找不到匹配條目的條目不屬於結果。</p> <p>鏈接算術運算符時要特別注意<a href=https://grafana.com/docs/loki/latest/logql/#order-of-operations>運算符順序</a>。</p> <h4 id=arithmetic>Arithmetic 範例<a class=headerlink href=#arithmetic title="Permanent link">¶</a></h4> <p>將日誌流條目的速率加倍：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-42-1 id=__codelineno-42-1 name=__codelineno-42-1></a>sum<span class=o>(</span>rate<span class=o>({</span><span class=nv>app</span><span class=o>=</span><span class=s2>"foo"</span><span class=o>}[</span>1m<span class=o>]))</span> * <span class=m>2</span>
</code></pre></div> <p>獲取 foo 應用程序的警告日誌與錯誤日誌的比例</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-43-1 id=__codelineno-43-1 name=__codelineno-43-1></a>sum<span class=o>(</span>rate<span class=o>({</span><span class=nv>app</span><span class=o>=</span><span class=s2>"foo"</span>, <span class=nv>level</span><span class=o>=</span><span class=s2>"warn"</span><span class=o>}[</span>1m<span class=o>]))</span> / sum<span class=o>(</span>rate<span class=o>({</span><span class=nv>app</span><span class=o>=</span><span class=s2>"foo"</span>, <span class=nv>level</span><span class=o>=</span><span class=s2>"error"</span><span class=o>}[</span>1m<span class=o>]))</span>
</code></pre></div> <h3 id=logical-and-set-operators>Logical and set operators<a class=headerlink href=#logical-and-set-operators title="Permanent link">¶</a></h3> <p>集合運算僅在區間向量範圍內有效，當前支持：</p> <ul> <li><code>and</code> 交集 - vector1 和 vector2 產生一個由 vector1 的元素組成的向量，其中 vector2 中的元素具有完全匹配的標籤集。其他元素被丟棄。</li> <li><code>or</code> 聯集 - vector1 或 vector2 生成一個向量，該向量包含 vector1 的所有原始元素（標籤集 + 值），以及 vector2 中在 vector1 中沒有匹配標籤集的所有元素。</li> <li><code>unless</code> 補充 - vector1 除非 vector2 產生一個由 vector1 的元素組成的向量，對於這些元素，vector2 中沒有與標籤集完全匹配的元素。兩個向量中的所有匹配元素都被刪除。</li> </ul> <h4 id=binary-operators_1>Binary operators 範例<a class=headerlink href=#binary-operators_1 title="Permanent link">¶</a></h4> <p>下列的查詢將返回這些查詢的交集, 等同　<code>rate({app="bar"})</code>：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-44-1 id=__codelineno-44-1 name=__codelineno-44-1></a>rate<span class=o>({</span><span class=nv>app</span><span class=o>=</span>~<span class=s2>"foo|bar"</span><span class=o>}[</span>1m<span class=o>])</span> and rate<span class=o>({</span><span class=nv>app</span><span class=o>=</span><span class=s2>"bar"</span><span class=o>}[</span>1m<span class=o>])</span>
</code></pre></div> <h3 id=comparison-operators>Comparison operators<a class=headerlink href=#comparison-operators title="Permanent link">¶</a></h3> <ul> <li><code>==</code> 等於</li> <li><code>!=</code> 不等於</li> <li><code>&gt;</code> 大於</li> <li><code>&gt;=</code> 大於或等於</li> <li><code>&lt;</code> 小於</li> <li><code>&lt;=</code> 小於或等於</li> </ul> <p>比較運算符在標量/標量、向量/標量和向量/向量值對之間定義。默認情況下，它們會過濾。它們的行為可以通過在運算符後提供 bool 來修改，它將返回 0 或 1 作為值而不是過濾。</p> <p>在兩個標量之間，這些運算符會產生另一個標量，即 0（假）或 1（真），具體取決於比較結果。不得提供 bool 修飾符。</p> <p>在向量和標量之間，這些運算符應用於向量中每個數據樣本的值，並且比較結果為假的向量元素從結果向量中刪除。如果提供了 bool 修飾符，則將被刪除的向量元素的值為 0，而將保留的向量元素的值為 1。</p> <h3 id=_1>註釋<a class=headerlink href=#_1 title="Permanent link">¶</a></h3> <p>LogQL 查詢可以使用 <code>#</code> 字符進行註釋：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-45-1 id=__codelineno-45-1 name=__codelineno-45-1></a><span class=o>{</span><span class=nv>app</span><span class=o>=</span><span class=s2>"foo"</span><span class=o>}</span> <span class=c1># anything that comes after will not be interpreted in your query</span>
</code></pre></div> <p>使用多行 LogQL 查詢，查詢解析器可以使用 <code>#</code> 排除整行或部份行：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-46-1 id=__codelineno-46-1 name=__codelineno-46-1></a><span class=o>{</span><span class=nv>app</span><span class=o>=</span><span class=s2>"foo"</span><span class=o>}</span>
<a href=#__codelineno-46-2 id=__codelineno-46-2 name=__codelineno-46-2></a>    <span class=p>|</span> json
<a href=#__codelineno-46-3 id=__codelineno-46-3 name=__codelineno-46-3></a>    <span class=c1># this line will be ignored</span>
<a href=#__codelineno-46-4 id=__codelineno-46-4 name=__codelineno-46-4></a>    <span class=p>|</span> <span class=nv>bar</span><span class=o>=</span><span class=s2>"baz"</span> <span class=c1># this checks if bar = "baz"</span>
</code></pre></div> <h3 id=pipeline>Pipeline 錯誤<a class=headerlink href=#pipeline title="Permanent link">¶</a></h3> <p>導致管道處理錯誤的原因有多種，例如：</p> <ul> <li>數字標籤過濾器可能無法將標籤值轉換為數字</li> <li>標籤的度量轉換可能會失敗。</li> <li>日誌行不是有效的 json 文檔。</li> <li>ETC…</li> </ul> <p>當這些故障發生時，Loki 不會過濾掉那些日誌行。相反，它們被傳遞到管道的下一個階段，並帶有一個名為 <code>__error__</code> 的新系統標籤。過濾錯誤的唯一方法是使用標籤過濾器表達式。 <code>__error__</code> 標籤不能通過語言重命名。</p> <p>例如要刪除 json 錯誤：</p> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-47-1 id=__codelineno-47-1 name=__codelineno-47-1></a><span class=o>{</span><span class=nv>cluster</span><span class=o>=</span><span class=s2>"ops-tools1"</span>,container<span class=o>=</span><span class=s2>"ingress-nginx"</span><span class=o>}</span>
<a href=#__codelineno-47-2 id=__codelineno-47-2 name=__codelineno-47-2></a>    <span class=p>|</span> json
<a href=#__codelineno-47-3 id=__codelineno-47-3 name=__codelineno-47-3></a>    <span class=p>|</span> __error__ !<span class=o>=</span> <span class=s2>"JSONParserErr"</span>
</code></pre></div> <p>或者，您可以使用捕獲所有匹配器（例如 <code>__error__ = ""</code> ）刪除所有錯誤，甚至使用 <code>__error__ != ""</code> 僅顯示錯誤。</p> <p>過濾器應放置在產生此錯誤的階段之後。這意味著如果您需要從展開表達式中刪除錯誤，則需要將其放在展開之後。</p> <div class=highlight><span class=filename>log ql</span><pre><span></span><code><a href=#__codelineno-48-1 id=__codelineno-48-1 name=__codelineno-48-1></a>quantile_over_time<span class=o>(</span>
<a href=#__codelineno-48-2 id=__codelineno-48-2 name=__codelineno-48-2></a>    <span class=m>0</span>.99,
<a href=#__codelineno-48-3 id=__codelineno-48-3 name=__codelineno-48-3></a>    <span class=o>{</span><span class=nv>container</span><span class=o>=</span><span class=s2>"ingress-nginx"</span>,service<span class=o>=</span><span class=s2>"hosted-grafana"</span><span class=o>}</span>
<a href=#__codelineno-48-4 id=__codelineno-48-4 name=__codelineno-48-4></a>    <span class=p>|</span> json
<a href=#__codelineno-48-5 id=__codelineno-48-5 name=__codelineno-48-5></a>    <span class=p>|</span> unwrap response_latency_seconds
<a href=#__codelineno-48-6 id=__codelineno-48-6 name=__codelineno-48-6></a>    <span class=p>|</span> <span class=nv>__error__</span><span class=o>=</span><span class=s2>""</span><span class=o>[</span>1m<span class=o>]</span>
<a href=#__codelineno-48-7 id=__codelineno-48-7 name=__codelineno-48-7></a>    <span class=o>)</span> by <span class=o>(</span>cluster<span class=o>)</span>
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>指標查詢不能包含錯誤，如果在執行過程中發現錯誤，Loki 將返回錯誤和相應的狀態碼。</p> </div> <h2 id=_2>查詢示例<a class=headerlink href=#_2 title="Permanent link">¶</a></h2> <p>這裡部署我們的應用程序是一個消息應用的示例，該應用程序是一個應用程序的消息，它的日誌包含調試、信息和警告輸出到標準輸出。錯誤等級的將被寫入標準輸出，實際的日誌以 JSON 格式生成，每個500 條日誌將創建一條新消息的消息。 日誌格式如下：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-49-1 id=__codelineno-49-1 name=__codelineno-49-1></a><span class=p>{</span><span class=w></span>
<a href=#__codelineno-49-2 id=__codelineno-49-2 name=__codelineno-49-2></a><span class=w>    </span><span class=nt>"app"</span><span class=p>:</span><span class=s2>"The fanciest app of mankind"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-49-3 id=__codelineno-49-3 name=__codelineno-49-3></a><span class=w>    </span><span class=nt>"executable"</span><span class=p>:</span><span class=s2>"fake-logger"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-49-4 id=__codelineno-49-4 name=__codelineno-49-4></a><span class=w>    </span><span class=nt>"is_even"</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-49-5 id=__codelineno-49-5 name=__codelineno-49-5></a><span class=w>    </span><span class=nt>"level"</span><span class=p>:</span><span class=s2>"debug"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-49-6 id=__codelineno-49-6 name=__codelineno-49-6></a><span class=w>    </span><span class=nt>"msg"</span><span class=p>:</span><span class=s2>"This is a debug message. Hope you'll catch the bug"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-49-7 id=__codelineno-49-7 name=__codelineno-49-7></a><span class=w>    </span><span class=nt>"time"</span><span class=p>:</span><span class=s2>"2022-04-04T13:41:50+02:00"</span><span class=p>,</span><span class=w></span>
<a href=#__codelineno-49-8 id=__codelineno-49-8 name=__codelineno-49-8></a><span class=w>    </span><span class=nt>"version"</span><span class=p>:</span><span class=s2>"1.0.0"</span><span class=w></span>
<a href=#__codelineno-49-9 id=__codelineno-49-9 name=__codelineno-49-9></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>使用下面的命令來創建示例應用：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-50-1 id=__codelineno-50-1 name=__codelineno-50-1></a>cat <span class=s>&lt;&lt;EOF | kubectl apply -f -</span>
<a href=#__codelineno-50-2 id=__codelineno-50-2 name=__codelineno-50-2></a><span class=s>apiVersion: apps/v1</span>
<a href=#__codelineno-50-3 id=__codelineno-50-3 name=__codelineno-50-3></a><span class=s>kind: Deployment</span>
<a href=#__codelineno-50-4 id=__codelineno-50-4 name=__codelineno-50-4></a><span class=s>metadata:</span>
<a href=#__codelineno-50-5 id=__codelineno-50-5 name=__codelineno-50-5></a><span class=s> labels:</span>
<a href=#__codelineno-50-6 id=__codelineno-50-6 name=__codelineno-50-6></a><span class=s>  app: fake-logger</span>
<a href=#__codelineno-50-7 id=__codelineno-50-7 name=__codelineno-50-7></a><span class=s>  environment: development</span>
<a href=#__codelineno-50-8 id=__codelineno-50-8 name=__codelineno-50-8></a><span class=s> name: fake-logger</span>
<a href=#__codelineno-50-9 id=__codelineno-50-9 name=__codelineno-50-9></a><span class=s>spec:</span>
<a href=#__codelineno-50-10 id=__codelineno-50-10 name=__codelineno-50-10></a><span class=s> selector:</span>
<a href=#__codelineno-50-11 id=__codelineno-50-11 name=__codelineno-50-11></a><span class=s>  matchLabels:</span>
<a href=#__codelineno-50-12 id=__codelineno-50-12 name=__codelineno-50-12></a><span class=s>   app: fake-logger</span>
<a href=#__codelineno-50-13 id=__codelineno-50-13 name=__codelineno-50-13></a><span class=s>   environment: development</span>
<a href=#__codelineno-50-14 id=__codelineno-50-14 name=__codelineno-50-14></a><span class=s> template:</span>
<a href=#__codelineno-50-15 id=__codelineno-50-15 name=__codelineno-50-15></a><span class=s>  metadata:</span>
<a href=#__codelineno-50-16 id=__codelineno-50-16 name=__codelineno-50-16></a><span class=s>   labels:</span>
<a href=#__codelineno-50-17 id=__codelineno-50-17 name=__codelineno-50-17></a><span class=s>    app: fake-logger</span>
<a href=#__codelineno-50-18 id=__codelineno-50-18 name=__codelineno-50-18></a><span class=s>    environment: development</span>
<a href=#__codelineno-50-19 id=__codelineno-50-19 name=__codelineno-50-19></a><span class=s>  spec:</span>
<a href=#__codelineno-50-20 id=__codelineno-50-20 name=__codelineno-50-20></a><span class=s>   containers:</span>
<a href=#__codelineno-50-21 id=__codelineno-50-21 name=__codelineno-50-21></a><span class=s>   - image: thorstenhans/fake-logger:0.0.2</span>
<a href=#__codelineno-50-22 id=__codelineno-50-22 name=__codelineno-50-22></a><span class=s>     name: fake-logger</span>
<a href=#__codelineno-50-23 id=__codelineno-50-23 name=__codelineno-50-23></a><span class=s>     resources:</span>
<a href=#__codelineno-50-24 id=__codelineno-50-24 name=__codelineno-50-24></a><span class=s>      requests:</span>
<a href=#__codelineno-50-25 id=__codelineno-50-25 name=__codelineno-50-25></a><span class=s>       cpu: 10m</span>
<a href=#__codelineno-50-26 id=__codelineno-50-26 name=__codelineno-50-26></a><span class=s>       memory: 32Mi</span>
<a href=#__codelineno-50-27 id=__codelineno-50-27 name=__codelineno-50-27></a><span class=s>      limits:</span>
<a href=#__codelineno-50-28 id=__codelineno-50-28 name=__codelineno-50-28></a><span class=s>       cpu: 10m</span>
<a href=#__codelineno-50-29 id=__codelineno-50-29 name=__codelineno-50-29></a><span class=s>       memory: 32Mi</span>
<a href=#__codelineno-50-30 id=__codelineno-50-30 name=__codelineno-50-30></a><span class=s>EOF</span>
</code></pre></div> <p>我們可以使用 {app="fake-logger"} 在 Grafana 中查詢到該應用的日誌流數據。</p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/loki-query-fake-logger.jpg><img alt src=../assets/loki-query-fake-logger.jpg></a></p> <p>由於我們該示例應用的日誌是 JSON 形式的，我們可以採用 JSON 解析器來解析日誌，表達式爲 <code>{app="fake-logger"} | json</code>，如下所示。</p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/loki-query-fake-logger2.jpg><img alt src=../assets/loki-query-fake-logger2.jpg></a></p> <p>使用 JSON 解析器解析日誌後可以看到 Grafana 提供的面板會根據 level 的值使用不同的顏色進行區分，而且現在我們日誌的屬性也被添加到了 Log 的標籤中去了。</p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/loki-query-fake-logger3.png><img alt src=../assets/loki-query-fake-logger3.png></a></p> <p>現在 JSON 中的數據變成了日誌標籤我們自然就可以使用這些標籤來過濾日誌數據了，比如我們要過濾<code>level=error</code> 的日誌，只使用表達式 <code>{app="fake-logger"} | json | level="error"</code> 即可實現。</p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/loki-query-fake-logger4.jpg><img alt src=../assets/loki-query-fake-logger4.jpg></a></p> <p>此外我們還可以根據我們的需求去格式化輸出日誌，使用 <code>line_format</code> 即可實現，比如我們這裏使用查詢語句 `{app="fake-logger"} | json |is_even="true" | line_format "在 {{.time}} 於 {{.level}}@{{.pod}} Pod中產生了日誌 {{.msg}}" 來格式化日誌輸出。</p> <p><a class=glightbox data-desc-position=bottom data-description data-height=auto data-title data-width=100% href=../assets/loki-query-fake-logger5.jpg><img alt src=../assets/loki-query-fake-logger5.jpg></a></p> </article> </div> </div> <a class="md-top md-icon" data-md-component=top hidden href=#> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg> Back to top </a> </main> <footer class=md-footer> <nav aria-label=Footer class="md-footer__inner md-grid"> <a aria-label="Previous: 使用 Logging Operator 將 Nginx 日誌存儲在 Grafana Loki" class="md-footer__link md-footer__link--prev" href=../loki-nginx/ rel=prev> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 使用 Logging Operator 將 Nginx 日誌存儲在 Grafana Loki </div> </div> </a> <a aria-label="Next: Logging Operator 日誌管理方案" class="md-footer__link md-footer__link--next" href=../../operator/logging-operator/ rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Logging Operator 日誌管理方案 </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../../../assets/javascripts/bundle.8492ddcf.min.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom"});})</script></body> </html>